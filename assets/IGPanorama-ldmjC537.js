import{af as fe,ag as Ct,r as ht,j as S,ah as xe,U as he,ai as Yt,aj as Gt,ak as de,C as Kt,al as we,am as ye,an as ke,K as Se,ao as qt,P as Ce,ap as je,aq as ze,ar as Ee,as as Ae,T as Ie,q as Ne,t as Re,at as Oe,c as Te,au as Be,av as De}from"./index-COUSDRnw.js";function Xt(zt){throw new Error('Could not dynamically require "'+zt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pe={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(zt,ft){(function(v){zt.exports=v()})(function(){return function v(O,k,h){function o(u,b){if(!k[u]){if(!O[u]){var g=typeof Xt=="function"&&Xt;if(!b&&g)return g(u,!0);if(s)return s(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var r=k[u]={exports:{}};O[u][0].call(r.exports,function(f){var n=O[u][1][f];return o(n||f)},r,r.exports,v,O,k,h)}return k[u].exports}for(var s=typeof Xt=="function"&&Xt,l=0;l<h.length;l++)o(h[l]);return o}({1:[function(v,O,k){var h=v("./utils"),o=v("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(l){for(var u,b,g,m,r,f,n,c=[],a=0,p=l.length,w=p,j=h.getTypeOf(l)!=="string";a<l.length;)w=p-a,g=j?(u=l[a++],b=a<p?l[a++]:0,a<p?l[a++]:0):(u=l.charCodeAt(a++),b=a<p?l.charCodeAt(a++):0,a<p?l.charCodeAt(a++):0),m=u>>2,r=(3&u)<<4|b>>4,f=1<w?(15&b)<<2|g>>6:64,n=2<w?63&g:64,c.push(s.charAt(m)+s.charAt(r)+s.charAt(f)+s.charAt(n));return c.join("")},k.decode=function(l){var u,b,g,m,r,f,n=0,c=0,a="data:";if(l.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var p,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&w--,l.charAt(l.length-2)===s.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|w):new Array(0|w);n<l.length;)u=s.indexOf(l.charAt(n++))<<2|(m=s.indexOf(l.charAt(n++)))>>4,b=(15&m)<<4|(r=s.indexOf(l.charAt(n++)))>>2,g=(3&r)<<6|(f=s.indexOf(l.charAt(n++))),p[c++]=u,r!==64&&(p[c++]=b),f!==64&&(p[c++]=g);return p}},{"./support":30,"./utils":32}],2:[function(v,O,k){var h=v("./external"),o=v("./stream/DataWorker"),s=v("./stream/Crc32Probe"),l=v("./stream/DataLengthProbe");function u(b,g,m,r,f){this.compressedSize=b,this.uncompressedSize=g,this.crc32=m,this.compression=r,this.compressedContent=f}u.prototype={getContentWorker:function(){var b=new o(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),g=this;return b.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new o(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(b,g,m){return b.pipe(new s).pipe(new l("uncompressedSize")).pipe(g.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",g)},O.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(v,O,k){var h=v("./stream/GenericWorker");k.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},k.DEFLATE=v("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(v,O,k){var h=v("./utils"),o=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var b=0;b<8;b++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();O.exports=function(s,l){return s!==void 0&&s.length?h.getTypeOf(s)!=="string"?function(u,b,g,m){var r=o,f=m+g;u^=-1;for(var n=m;n<f;n++)u=u>>>8^r[255&(u^b[n])];return-1^u}(0|l,s,s.length,0):function(u,b,g,m){var r=o,f=m+g;u^=-1;for(var n=m;n<f;n++)u=u>>>8^r[255&(u^b.charCodeAt(n))];return-1^u}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(v,O,k){k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},{}],6:[function(v,O,k){var h=null;h=typeof Promise<"u"?Promise:v("lie"),O.exports={Promise:h}},{lie:37}],7:[function(v,O,k){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=v("pako"),s=v("./utils"),l=v("./stream/GenericWorker"),u=h?"uint8array":"array";function b(g,m){l.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=m,this.meta={}}k.magic="\b\0",s.inherits(b,l),b.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,g.data),!1)},b.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(m){g.push({data:m,meta:g.meta})}},k.compressWorker=function(g){return new b("Deflate",g)},k.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(v,O,k){function h(r,f){var n,c="";for(n=0;n<f;n++)c+=String.fromCharCode(255&r),r>>>=8;return c}function o(r,f,n,c,a,p){var w,j,C=r.file,U=r.compression,T=p!==u.utf8encode,Z=s.transformTo("string",p(C.name)),R=s.transformTo("string",u.utf8encode(C.name)),W=C.comment,Q=s.transformTo("string",p(W)),_=s.transformTo("string",u.utf8encode(W)),B=R.length!==C.name.length,e=_.length!==W.length,P="",et="",M="",nt=C.dir,H=C.date,tt={crc32:0,compressedSize:0,uncompressedSize:0};f&&!n||(tt.crc32=r.crc32,tt.compressedSize=r.compressedSize,tt.uncompressedSize=r.uncompressedSize);var A=0;f&&(A|=8),T||!B&&!e||(A|=2048);var E=0,V=0;nt&&(E|=16),a==="UNIX"?(V=798,E|=function(G,ut){var bt=G;return G||(bt=ut?16893:33204),(65535&bt)<<16}(C.unixPermissions,nt)):(V=20,E|=function(G){return 63&(G||0)}(C.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,j=H.getUTCFullYear()-1980,j<<=4,j|=H.getUTCMonth()+1,j<<=5,j|=H.getUTCDate(),B&&(et=h(1,1)+h(b(Z),4)+R,P+="up"+h(et.length,2)+et),e&&(M=h(1,1)+h(b(Q),4)+_,P+="uc"+h(M.length,2)+M);var K="";return K+=`
\0`,K+=h(A,2),K+=U.magic,K+=h(w,2),K+=h(j,2),K+=h(tt.crc32,4),K+=h(tt.compressedSize,4),K+=h(tt.uncompressedSize,4),K+=h(Z.length,2),K+=h(P.length,2),{fileRecord:g.LOCAL_FILE_HEADER+K+Z+P,dirRecord:g.CENTRAL_FILE_HEADER+h(V,2)+K+h(Q.length,2)+"\0\0\0\0"+h(E,4)+h(c,4)+Z+P+Q}}var s=v("../utils"),l=v("../stream/GenericWorker"),u=v("../utf8"),b=v("../crc32"),g=v("../signature");function m(r,f,n,c){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=n,this.encodeFileName=c,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(m,l),m.prototype.push=function(r){var f=r.meta.percent||0,n=this.entriesCount,c=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,l.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:n?(f+100*(n-c-1))/n:100}}))},m.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var f=this.streamFiles&&!r.file.dir;if(f){var n=o(r,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(r){this.accumulate=!1;var f=this.streamFiles&&!r.file.dir,n=o(r,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),f)this.push({data:function(c){return g.DATA_DESCRIPTOR+h(c.crc32,4)+h(c.compressedSize,4)+h(c.uncompressedSize,4)}(r),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var r=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var n=this.bytesWritten-r,c=function(a,p,w,j,C){var U=s.transformTo("string",C(j));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(a,2)+h(a,2)+h(p,4)+h(w,4)+h(U.length,2)+U}(this.dirRecords.length,n,r,this.zipComment,this.encodeFileName);this.push({data:c,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(r){this._sources.push(r);var f=this;return r.on("data",function(n){f.processChunk(n)}),r.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),r.on("error",function(n){f.error(n)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(r){var f=this._sources;if(!l.prototype.error.call(this,r))return!1;for(var n=0;n<f.length;n++)try{f[n].error(r)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var r=this._sources,f=0;f<r.length;f++)r[f].lock()},O.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(v,O,k){var h=v("../compressions"),o=v("./ZipFileWorker");k.generateWorker=function(s,l,u){var b=new o(l.streamFiles,u,l.platform,l.encodeFileName),g=0;try{s.forEach(function(m,r){g++;var f=function(p,w){var j=p||w,C=h[j];if(!C)throw new Error(j+" is not a valid compression method !");return C}(r.options.compression,l.compression),n=r.options.compressionOptions||l.compressionOptions||{},c=r.dir,a=r.date;r._compressWorker(f,n).withStreamInfo("file",{name:m,dir:c,date:a,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(b)}),b.entriesCount=g}catch(m){b.error(m)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(v,O,k){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new h;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(h.prototype=v("./object")).loadAsync=v("./load"),h.support=v("./support"),h.defaults=v("./defaults"),h.version="3.10.1",h.loadAsync=function(o,s){return new h().loadAsync(o,s)},h.external=v("./external"),O.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(v,O,k){var h=v("./utils"),o=v("./external"),s=v("./utf8"),l=v("./zipEntries"),u=v("./stream/Crc32Probe"),b=v("./nodejsUtils");function g(m){return new o.Promise(function(r,f){var n=m.decompressed.getContentWorker().pipe(new u);n.on("error",function(c){f(c)}).on("end",function(){n.streamInfo.crc32!==m.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}O.exports=function(m,r){var f=this;return r=h.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),b.isNode&&b.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",m,!0,r.optimizedBinaryString,r.base64).then(function(n){var c=new l(r);return c.load(n),c}).then(function(n){var c=[o.Promise.resolve(n)],a=n.files;if(r.checkCRC32)for(var p=0;p<a.length;p++)c.push(g(a[p]));return o.Promise.all(c)}).then(function(n){for(var c=n.shift(),a=c.files,p=0;p<a.length;p++){var w=a[p],j=w.fileNameStr,C=h.resolve(w.fileNameStr);f.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:r.createFolders}),w.dir||(f.file(C).unsafeOriginalName=j)}return c.zipComment.length&&(f.comment=c.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(v,O,k){var h=v("../utils"),o=v("../stream/GenericWorker");function s(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}h.inherits(s,o),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(b){u.push({data:b,meta:{percent:0}})}).on("error",function(b){u.isPaused?this.generatedError=b:u.error(b)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},O.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(v,O,k){var h=v("readable-stream").Readable;function o(s,l,u){h.call(this,l),this._helper=s;var b=this;s.on("data",function(g,m){b.push(g)||b._helper.pause(),u&&u(m)}).on("error",function(g){b.emit("error",g)}).on("end",function(){b.push(null)})}v("../utils").inherits(o,h),o.prototype._read=function(){this._helper.resume()},O.exports=o},{"../utils":32,"readable-stream":16}],14:[function(v,O,k){O.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,o);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,o)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var o=new Buffer(h);return o.fill(0),o},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(v,O,k){function h(C,U,T){var Z,R=s.getTypeOf(U),W=s.extend(T||{},b);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(C=a(C)),W.createFolders&&(Z=c(C))&&p.call(this,Z,!0);var Q=R==="string"&&W.binary===!1&&W.base64===!1;T&&T.binary!==void 0||(W.binary=!Q),(U instanceof g&&U.uncompressedSize===0||W.dir||!U||U.length===0)&&(W.base64=!1,W.binary=!0,U="",W.compression="STORE",R="string");var _=null;_=U instanceof g||U instanceof l?U:f.isNode&&f.isStream(U)?new n(C,U):s.prepareContent(C,U,W.binary,W.optimizedBinaryString,W.base64);var B=new m(C,_,W);this.files[C]=B}var o=v("./utf8"),s=v("./utils"),l=v("./stream/GenericWorker"),u=v("./stream/StreamHelper"),b=v("./defaults"),g=v("./compressedObject"),m=v("./zipObject"),r=v("./generate"),f=v("./nodejsUtils"),n=v("./nodejs/NodejsStreamInputAdapter"),c=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var U=C.lastIndexOf("/");return 0<U?C.substring(0,U):""},a=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},p=function(C,U){return U=U!==void 0?U:b.createFolders,C=a(C),this.files[C]||h.call(this,C,null,{dir:!0,createFolders:U}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var U,T,Z;for(U in this.files)Z=this.files[U],(T=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&C(T,Z)},filter:function(C){var U=[];return this.forEach(function(T,Z){C(T,Z)&&U.push(Z)}),U},file:function(C,U,T){if(arguments.length!==1)return C=this.root+C,h.call(this,C,U,T),this;if(w(C)){var Z=C;return this.filter(function(W,Q){return!Q.dir&&Z.test(W)})}var R=this.files[this.root+C];return R&&!R.dir?R:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(R,W){return W.dir&&C.test(R)});var U=this.root+C,T=p.call(this,U),Z=this.clone();return Z.root=T.name,Z},remove:function(C){C=this.root+C;var U=this.files[C];if(U||(C.slice(-1)!=="/"&&(C+="/"),U=this.files[C]),U&&!U.dir)delete this.files[C];else for(var T=this.filter(function(R,W){return W.name.slice(0,C.length)===C}),Z=0;Z<T.length;Z++)delete this.files[T[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var U,T={};try{if((T=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");s.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var Z=T.comment||this.comment||"";U=r.generateWorker(this,T,Z)}catch(R){(U=new l("error")).error(R)}return new u(U,T.type||"string",T.mimeType)},generateAsync:function(C,U){return this.generateInternalStream(C).accumulate(U)},generateNodeStream:function(C,U){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(U)}};O.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(v,O,k){O.exports=v("stream")},{stream:void 0}],17:[function(v,O,k){var h=v("./DataReader");function o(s){h.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}v("../utils").inherits(o,h),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),b=s.charCodeAt(2),g=s.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===b&&this.data[m+3]===g)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),b=s.charCodeAt(2),g=s.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&b===m[2]&&g===m[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},O.exports=o},{"../utils":32,"./DataReader":18}],18:[function(v,O,k){var h=v("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return h.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},O.exports=o},{"../utils":32}],19:[function(v,O,k){var h=v("./Uint8ArrayReader");function o(s){h.call(this,s)}v("../utils").inherits(o,h),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},O.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(v,O,k){var h=v("./DataReader");function o(s){h.call(this,s)}v("../utils").inherits(o,h),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},O.exports=o},{"../utils":32,"./DataReader":18}],21:[function(v,O,k){var h=v("./ArrayReader");function o(s){h.call(this,s)}v("../utils").inherits(o,h),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},O.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(v,O,k){var h=v("../utils"),o=v("../support"),s=v("./ArrayReader"),l=v("./StringReader"),u=v("./NodeBufferReader"),b=v("./Uint8ArrayReader");O.exports=function(g){var m=h.getTypeOf(g);return h.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(g):o.uint8array?new b(h.transformTo("uint8array",g)):new s(h.transformTo("array",g)):new l(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(v,O,k){k.LOCAL_FILE_HEADER="PK",k.CENTRAL_FILE_HEADER="PK",k.CENTRAL_DIRECTORY_END="PK",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK",k.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(v,O,k){var h=v("./GenericWorker"),o=v("../utils");function s(l){h.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,h),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},O.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(v,O,k){var h=v("./GenericWorker"),o=v("../crc32");function s(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}v("../utils").inherits(s,h),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},O.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(v,O,k){var h=v("../utils"),o=v("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}h.inherits(s,o),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},O.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(v,O,k){var h=v("../utils"),o=v("./GenericWorker");function s(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(b){u.dataIsReady=!0,u.data=b,u.max=b&&b.length||0,u.type=h.getTypeOf(b),u.isPaused||u._tickAndRepeat()},function(b){u.error(b)})}h.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},O.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(v,O,k){function h(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},O.exports=h},{}],29:[function(v,O,k){var h=v("../utils"),o=v("./ConvertWorker"),s=v("./GenericWorker"),l=v("../base64"),u=v("../support"),b=v("../external"),g=null;if(u.nodestream)try{g=v("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(f,n){return new b.Promise(function(c,a){var p=[],w=f._internalType,j=f._outputType,C=f._mimeType;f.on("data",function(U,T){p.push(U),n&&n(T)}).on("error",function(U){p=[],a(U)}).on("end",function(){try{var U=function(T,Z,R){switch(T){case"blob":return h.newBlob(h.transformTo("arraybuffer",Z),R);case"base64":return l.encode(Z);default:return h.transformTo(T,Z)}}(j,function(T,Z){var R,W=0,Q=null,_=0;for(R=0;R<Z.length;R++)_+=Z[R].length;switch(T){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(Q=new Uint8Array(_),R=0;R<Z.length;R++)Q.set(Z[R],W),W+=Z[R].length;return Q;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+T+"'")}}(w,p),C);c(U)}catch(T){a(T)}p=[]}).resume()})}function r(f,n,c){var a=n;switch(n){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=n,this._mimeType=c,h.checkSupport(a),this._worker=f.pipe(new o(a)),f.lock()}catch(p){this._worker=new s("error"),this._worker.error(p)}}r.prototype={accumulate:function(f){return m(this,f)},on:function(f,n){var c=this;return f==="data"?this._worker.on(f,function(a){n.call(c,a.data,a.meta)}):this._worker.on(f,function(){h.delay(n,arguments,c)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},f)}},O.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(v,O,k){if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",k.nodebuffer=typeof Buffer<"u",k.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")k.blob=!1;else{var h=new ArrayBuffer(0);try{k.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(h),k.blob=o.getBlob("application/zip").size===0}catch{k.blob=!1}}}try{k.nodestream=!!v("readable-stream").Readable}catch{k.nodestream=!1}},{"readable-stream":16}],31:[function(v,O,k){for(var h=v("./utils"),o=v("./support"),s=v("./nodejsUtils"),l=v("./stream/GenericWorker"),u=new Array(256),b=0;b<256;b++)u[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;u[254]=u[254]=1;function g(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}k.utf8encode=function(r){return o.nodebuffer?s.newBufferFrom(r,"utf-8"):function(f){var n,c,a,p,w,j=f.length,C=0;for(p=0;p<j;p++)(64512&(c=f.charCodeAt(p)))==55296&&p+1<j&&(64512&(a=f.charCodeAt(p+1)))==56320&&(c=65536+(c-55296<<10)+(a-56320),p++),C+=c<128?1:c<2048?2:c<65536?3:4;for(n=o.uint8array?new Uint8Array(C):new Array(C),p=w=0;w<C;p++)(64512&(c=f.charCodeAt(p)))==55296&&p+1<j&&(64512&(a=f.charCodeAt(p+1)))==56320&&(c=65536+(c-55296<<10)+(a-56320),p++),c<128?n[w++]=c:(c<2048?n[w++]=192|c>>>6:(c<65536?n[w++]=224|c>>>12:(n[w++]=240|c>>>18,n[w++]=128|c>>>12&63),n[w++]=128|c>>>6&63),n[w++]=128|63&c);return n}(r)},k.utf8decode=function(r){return o.nodebuffer?h.transformTo("nodebuffer",r).toString("utf-8"):function(f){var n,c,a,p,w=f.length,j=new Array(2*w);for(n=c=0;n<w;)if((a=f[n++])<128)j[c++]=a;else if(4<(p=u[a]))j[c++]=65533,n+=p-1;else{for(a&=p===2?31:p===3?15:7;1<p&&n<w;)a=a<<6|63&f[n++],p--;1<p?j[c++]=65533:a<65536?j[c++]=a:(a-=65536,j[c++]=55296|a>>10&1023,j[c++]=56320|1023&a)}return j.length!==c&&(j.subarray?j=j.subarray(0,c):j.length=c),h.applyFromCharCode(j)}(r=h.transformTo(o.uint8array?"uint8array":"array",r))},h.inherits(g,l),g.prototype.processChunk=function(r){var f=h.transformTo(o.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var n=f;(f=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),f.set(n,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var c=function(p,w){var j;for((w=w||p.length)>p.length&&(w=p.length),j=w-1;0<=j&&(192&p[j])==128;)j--;return j<0||j===0?w:j+u[p[j]]>w?j:w}(f),a=f;c!==f.length&&(o.uint8array?(a=f.subarray(0,c),this.leftOver=f.subarray(c,f.length)):(a=f.slice(0,c),this.leftOver=f.slice(c,f.length))),this.push({data:k.utf8decode(a),meta:r.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=g,h.inherits(m,l),m.prototype.processChunk=function(r){this.push({data:k.utf8encode(r.data),meta:r.meta})},k.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(v,O,k){var h=v("./support"),o=v("./base64"),s=v("./nodejsUtils"),l=v("./external");function u(n){return n}function b(n,c){for(var a=0;a<n.length;++a)c[a]=255&n.charCodeAt(a);return c}v("setimmediate"),k.newBlob=function(n,c){k.checkSupport("blob");try{return new Blob([n],{type:c})}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(n),a.getBlob(c)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(n,c,a){var p=[],w=0,j=n.length;if(j<=a)return String.fromCharCode.apply(null,n);for(;w<j;)c==="array"||c==="nodebuffer"?p.push(String.fromCharCode.apply(null,n.slice(w,Math.min(w+a,j)))):p.push(String.fromCharCode.apply(null,n.subarray(w,Math.min(w+a,j)))),w+=a;return p.join("")},stringifyByChar:function(n){for(var c="",a=0;a<n.length;a++)c+=String.fromCharCode(n[a]);return c},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function m(n){var c=65536,a=k.getTypeOf(n),p=!0;if(a==="uint8array"?p=g.applyCanBeUsed.uint8array:a==="nodebuffer"&&(p=g.applyCanBeUsed.nodebuffer),p)for(;1<c;)try{return g.stringifyByChunk(n,a,c)}catch{c=Math.floor(c/2)}return g.stringifyByChar(n)}function r(n,c){for(var a=0;a<n.length;a++)c[a]=n[a];return c}k.applyFromCharCode=m;var f={};f.string={string:u,array:function(n){return b(n,new Array(n.length))},arraybuffer:function(n){return f.string.uint8array(n).buffer},uint8array:function(n){return b(n,new Uint8Array(n.length))},nodebuffer:function(n){return b(n,s.allocBuffer(n.length))}},f.array={string:m,array:u,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return s.newBufferFrom(n)}},f.arraybuffer={string:function(n){return m(new Uint8Array(n))},array:function(n){return r(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:u,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return s.newBufferFrom(new Uint8Array(n))}},f.uint8array={string:m,array:function(n){return r(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:u,nodebuffer:function(n){return s.newBufferFrom(n)}},f.nodebuffer={string:m,array:function(n){return r(n,new Array(n.length))},arraybuffer:function(n){return f.nodebuffer.uint8array(n).buffer},uint8array:function(n){return r(n,new Uint8Array(n.length))},nodebuffer:u},k.transformTo=function(n,c){if(c=c||"",!n)return c;k.checkSupport(n);var a=k.getTypeOf(c);return f[a][n](c)},k.resolve=function(n){for(var c=n.split("/"),a=[],p=0;p<c.length;p++){var w=c[p];w==="."||w===""&&p!==0&&p!==c.length-1||(w===".."?a.pop():a.push(w))}return a.join("/")},k.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":h.nodebuffer&&s.isBuffer(n)?"nodebuffer":h.uint8array&&n instanceof Uint8Array?"uint8array":h.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(n){if(!h[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(n){var c,a,p="";for(a=0;a<(n||"").length;a++)p+="\\x"+((c=n.charCodeAt(a))<16?"0":"")+c.toString(16).toUpperCase();return p},k.delay=function(n,c,a){setImmediate(function(){n.apply(a||null,c||[])})},k.inherits=function(n,c){function a(){}a.prototype=c.prototype,n.prototype=new a},k.extend=function(){var n,c,a={};for(n=0;n<arguments.length;n++)for(c in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],c)&&a[c]===void 0&&(a[c]=arguments[n][c]);return a},k.prepareContent=function(n,c,a,p,w){return l.Promise.resolve(c).then(function(j){return h.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,U){var T=new FileReader;T.onload=function(Z){C(Z.target.result)},T.onerror=function(Z){U(Z.target.error)},T.readAsArrayBuffer(j)}):j}).then(function(j){var C=k.getTypeOf(j);return C?(C==="arraybuffer"?j=k.transformTo("uint8array",j):C==="string"&&(w?j=o.decode(j):a&&p!==!0&&(j=function(U){return b(U,h.uint8array?new Uint8Array(U.length):new Array(U.length))}(j))),j):l.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(v,O,k){var h=v("./reader/readerFor"),o=v("./utils"),s=v("./signature"),l=v("./zipEntry"),u=v("./support");function b(g){this.files=[],this.loadOptions=g}b.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(g)+")")}},isSignature:function(g,m){var r=this.reader.index;this.reader.setIndex(g);var f=this.reader.readString(4)===m;return this.reader.setIndex(r),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",r=o.transformTo(m,g);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,m,r,f=this.zip64EndOfCentralSize-44;0<f;)g=this.reader.readInt(2),m=this.reader.readInt(4),r=this.reader.readData(m),this.zip64ExtensibleData[g]={id:g,length:m,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,m;for(g=0;g<this.files.length;g++)m=this.files[g],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(g=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var m=g;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var f=m-r;if(0<f)this.isSignature(m,s.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(g){this.reader=h(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},O.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(v,O,k){var h=v("./reader/readerFor"),o=v("./utils"),s=v("./compressedObject"),l=v("./crc32"),u=v("./utf8"),b=v("./compressions"),g=v("./support");function m(r,f){this.options=r,this.loadOptions=f}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var f,n;if(r.skip(22),this.fileNameLength=r.readInt(2),n=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(c){for(var a in b)if(Object.prototype.hasOwnProperty.call(b,a)&&b[a].magic===c)return b[a];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,f,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var f=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(f),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var r=h(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=r.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=r.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=r.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=r.readInt(4))}},readExtraFields:function(r){var f,n,c,a=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<a;)f=r.readInt(2),n=r.readInt(2),c=r.readData(n),this.extraFields[f]={id:f,length:n,value:c};r.setIndex(a)},handleUTF8:function(){var r=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var n=o.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var a=o.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var f=h(r.value);return f.readInt(1)!==1||l(this.fileName)!==f.readInt(4)?null:u.utf8decode(f.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var f=h(r.value);return f.readInt(1)!==1||l(this.fileComment)!==f.readInt(4)?null:u.utf8decode(f.readData(r.length-5))}return null}},O.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(v,O,k){function h(f,n,c){this.name=f,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=n,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var o=v("./stream/StreamHelper"),s=v("./stream/DataWorker"),l=v("./utf8"),u=v("./compressedObject"),b=v("./stream/GenericWorker");h.prototype={internalStream:function(f){var n=null,c="string";try{if(!f)throw new Error("No output type specified.");var a=(c=f.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),n=this._decompressWorker();var p=!this._dataBinary;p&&!a&&(n=n.pipe(new l.Utf8EncodeWorker)),!p&&a&&(n=n.pipe(new l.Utf8DecodeWorker))}catch(w){(n=new b("error")).error(w)}return new o(n,c,"")},async:function(f,n){return this.internalStream(f).accumulate(n)},nodeStream:function(f,n){return this.internalStream(f||"nodebuffer").toNodejsStream(n)},_compressWorker:function(f,n){if(this._data instanceof u&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(c,f,n)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof b?this._data:new s(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<g.length;r++)h.prototype[g[r]]=m;O.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(v,O,k){(function(h){var o,s,l=h.MutationObserver||h.WebKitMutationObserver;if(l){var u=0,b=new l(f),g=h.document.createTextNode("");b.observe(g,{characterData:!0}),o=function(){g.data=u=++u%2}}else if(h.setImmediate||h.MessageChannel===void 0)o="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var n=h.document.createElement("script");n.onreadystatechange=function(){f(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},h.document.documentElement.appendChild(n)}:function(){setTimeout(f,0)};else{var m=new h.MessageChannel;m.port1.onmessage=f,o=function(){m.port2.postMessage(0)}}var r=[];function f(){var n,c;s=!0;for(var a=r.length;a;){for(c=r,r=[],n=-1;++n<a;)c[n]();a=r.length}s=!1}O.exports=function(n){r.push(n)!==1||s||o()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(v,O,k){var h=v("immediate");function o(){}var s={},l=["REJECTED"],u=["FULFILLED"],b=["PENDING"];function g(a){if(typeof a!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,a!==o&&n(this,a)}function m(a,p,w){this.promise=a,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function r(a,p,w){h(function(){var j;try{j=p(w)}catch(C){return s.reject(a,C)}j===a?s.reject(a,new TypeError("Cannot resolve promise with itself")):s.resolve(a,j)})}function f(a){var p=a&&a.then;if(a&&(typeof a=="object"||typeof a=="function")&&typeof p=="function")return function(){p.apply(a,arguments)}}function n(a,p){var w=!1;function j(T){w||(w=!0,s.reject(a,T))}function C(T){w||(w=!0,s.resolve(a,T))}var U=c(function(){p(C,j)});U.status==="error"&&j(U.value)}function c(a,p){var w={};try{w.value=a(p),w.status="success"}catch(j){w.status="error",w.value=j}return w}(O.exports=g).prototype.finally=function(a){if(typeof a!="function")return this;var p=this.constructor;return this.then(function(w){return p.resolve(a()).then(function(){return w})},function(w){return p.resolve(a()).then(function(){throw w})})},g.prototype.catch=function(a){return this.then(null,a)},g.prototype.then=function(a,p){if(typeof a!="function"&&this.state===u||typeof p!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==b?r(w,this.state===u?a:p,this.outcome):this.queue.push(new m(w,a,p)),w},m.prototype.callFulfilled=function(a){s.resolve(this.promise,a)},m.prototype.otherCallFulfilled=function(a){r(this.promise,this.onFulfilled,a)},m.prototype.callRejected=function(a){s.reject(this.promise,a)},m.prototype.otherCallRejected=function(a){r(this.promise,this.onRejected,a)},s.resolve=function(a,p){var w=c(f,p);if(w.status==="error")return s.reject(a,w.value);var j=w.value;if(j)n(a,j);else{a.state=u,a.outcome=p;for(var C=-1,U=a.queue.length;++C<U;)a.queue[C].callFulfilled(p)}return a},s.reject=function(a,p){a.state=l,a.outcome=p;for(var w=-1,j=a.queue.length;++w<j;)a.queue[w].callRejected(p);return a},g.resolve=function(a){return a instanceof this?a:s.resolve(new this(o),a)},g.reject=function(a){var p=new this(o);return s.reject(p,a)},g.all=function(a){var p=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=a.length,j=!1;if(!w)return this.resolve([]);for(var C=new Array(w),U=0,T=-1,Z=new this(o);++T<w;)R(a[T],T);return Z;function R(W,Q){p.resolve(W).then(function(_){C[Q]=_,++U!==w||j||(j=!0,s.resolve(Z,C))},function(_){j||(j=!0,s.reject(Z,_))})}},g.race=function(a){var p=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=a.length,j=!1;if(!w)return this.resolve([]);for(var C=-1,U=new this(o);++C<w;)T=a[C],p.resolve(T).then(function(Z){j||(j=!0,s.resolve(U,Z))},function(Z){j||(j=!0,s.reject(U,Z))});var T;return U}},{immediate:36}],38:[function(v,O,k){var h={};(0,v("./lib/utils/common").assign)(h,v("./lib/deflate"),v("./lib/inflate"),v("./lib/zlib/constants")),O.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(v,O,k){var h=v("./zlib/deflate"),o=v("./utils/common"),s=v("./utils/strings"),l=v("./zlib/messages"),u=v("./zlib/zstream"),b=Object.prototype.toString,g=0,m=-1,r=0,f=8;function n(a){if(!(this instanceof n))return new n(a);this.options=o.assign({level:m,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},a||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=h.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(w!==g)throw new Error(l[w]);if(p.header&&h.deflateSetHeader(this.strm,p.header),p.dictionary){var j;if(j=typeof p.dictionary=="string"?s.string2buf(p.dictionary):b.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(w=h.deflateSetDictionary(this.strm,j))!==g)throw new Error(l[w]);this._dict_set=!0}}function c(a,p){var w=new n(p);if(w.push(a,!0),w.err)throw w.msg||l[w.err];return w.result}n.prototype.push=function(a,p){var w,j,C=this.strm,U=this.options.chunkSize;if(this.ended)return!1;j=p===~~p?p:p===!0?4:0,typeof a=="string"?C.input=s.string2buf(a):b.call(a)==="[object ArrayBuffer]"?C.input=new Uint8Array(a):C.input=a,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(U),C.next_out=0,C.avail_out=U),(w=h.deflate(C,j))!==1&&w!==g)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return j===4?(w=h.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===g):j!==2||(this.onEnd(g),!(C.avail_out=0))},n.prototype.onData=function(a){this.chunks.push(a)},n.prototype.onEnd=function(a){a===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},k.Deflate=n,k.deflate=c,k.deflateRaw=function(a,p){return(p=p||{}).raw=!0,c(a,p)},k.gzip=function(a,p){return(p=p||{}).gzip=!0,c(a,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(v,O,k){var h=v("./zlib/inflate"),o=v("./utils/common"),s=v("./utils/strings"),l=v("./zlib/constants"),u=v("./zlib/messages"),b=v("./zlib/zstream"),g=v("./zlib/gzheader"),m=Object.prototype.toString;function r(n){if(!(this instanceof r))return new r(n);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},n||{});var c=this.options;c.raw&&0<=c.windowBits&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),!(0<=c.windowBits&&c.windowBits<16)||n&&n.windowBits||(c.windowBits+=32),15<c.windowBits&&c.windowBits<48&&!(15&c.windowBits)&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var a=h.inflateInit2(this.strm,c.windowBits);if(a!==l.Z_OK)throw new Error(u[a]);this.header=new g,h.inflateGetHeader(this.strm,this.header)}function f(n,c){var a=new r(c);if(a.push(n,!0),a.err)throw a.msg||u[a.err];return a.result}r.prototype.push=function(n,c){var a,p,w,j,C,U,T=this.strm,Z=this.options.chunkSize,R=this.options.dictionary,W=!1;if(this.ended)return!1;p=c===~~c?c:c===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof n=="string"?T.input=s.binstring2buf(n):m.call(n)==="[object ArrayBuffer]"?T.input=new Uint8Array(n):T.input=n,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(Z),T.next_out=0,T.avail_out=Z),(a=h.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(U=typeof R=="string"?s.string2buf(R):m.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,a=h.inflateSetDictionary(this.strm,U)),a===l.Z_BUF_ERROR&&W===!0&&(a=l.Z_OK,W=!1),a!==l.Z_STREAM_END&&a!==l.Z_OK)return this.onEnd(a),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&a!==l.Z_STREAM_END&&(T.avail_in!==0||p!==l.Z_FINISH&&p!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=s.utf8border(T.output,T.next_out),j=T.next_out-w,C=s.buf2string(T.output,w),T.next_out=j,T.avail_out=Z-j,j&&o.arraySet(T.output,T.output,w,j,0),this.onData(C)):this.onData(o.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(W=!0)}while((0<T.avail_in||T.avail_out===0)&&a!==l.Z_STREAM_END);return a===l.Z_STREAM_END&&(p=l.Z_FINISH),p===l.Z_FINISH?(a=h.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===l.Z_OK):p!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},r.prototype.onData=function(n){this.chunks.push(n)},r.prototype.onEnd=function(n){n===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},k.Inflate=r,k.inflate=f,k.inflateRaw=function(n,c){return(c=c||{}).raw=!0,f(n,c)},k.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(v,O,k){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";k.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var b=u.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var g in b)b.hasOwnProperty(g)&&(l[g]=b[g])}}return l},k.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,b,g,m){if(u.subarray&&l.subarray)l.set(u.subarray(b,b+g),m);else for(var r=0;r<g;r++)l[m+r]=u[b+r]},flattenChunks:function(l){var u,b,g,m,r,f;for(u=g=0,b=l.length;u<b;u++)g+=l[u].length;for(f=new Uint8Array(g),u=m=0,b=l.length;u<b;u++)r=l[u],f.set(r,m),m+=r.length;return f}},s={arraySet:function(l,u,b,g,m){for(var r=0;r<g;r++)l[m+r]=u[b+r]},flattenChunks:function(l){return[].concat.apply([],l)}};k.setTyped=function(l){l?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,o)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,s))},k.setTyped(h)},{}],42:[function(v,O,k){var h=v("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new h.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function b(g,m){if(m<65537&&(g.subarray&&s||!g.subarray&&o))return String.fromCharCode.apply(null,h.shrinkBuf(g,m));for(var r="",f=0;f<m;f++)r+=String.fromCharCode(g[f]);return r}l[254]=l[254]=1,k.string2buf=function(g){var m,r,f,n,c,a=g.length,p=0;for(n=0;n<a;n++)(64512&(r=g.charCodeAt(n)))==55296&&n+1<a&&(64512&(f=g.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(f-56320),n++),p+=r<128?1:r<2048?2:r<65536?3:4;for(m=new h.Buf8(p),n=c=0;c<p;n++)(64512&(r=g.charCodeAt(n)))==55296&&n+1<a&&(64512&(f=g.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(f-56320),n++),r<128?m[c++]=r:(r<2048?m[c++]=192|r>>>6:(r<65536?m[c++]=224|r>>>12:(m[c++]=240|r>>>18,m[c++]=128|r>>>12&63),m[c++]=128|r>>>6&63),m[c++]=128|63&r);return m},k.buf2binstring=function(g){return b(g,g.length)},k.binstring2buf=function(g){for(var m=new h.Buf8(g.length),r=0,f=m.length;r<f;r++)m[r]=g.charCodeAt(r);return m},k.buf2string=function(g,m){var r,f,n,c,a=m||g.length,p=new Array(2*a);for(r=f=0;r<a;)if((n=g[r++])<128)p[f++]=n;else if(4<(c=l[n]))p[f++]=65533,r+=c-1;else{for(n&=c===2?31:c===3?15:7;1<c&&r<a;)n=n<<6|63&g[r++],c--;1<c?p[f++]=65533:n<65536?p[f++]=n:(n-=65536,p[f++]=55296|n>>10&1023,p[f++]=56320|1023&n)}return b(p,f)},k.utf8border=function(g,m){var r;for((m=m||g.length)>g.length&&(m=g.length),r=m-1;0<=r&&(192&g[r])==128;)r--;return r<0||r===0?m:r+l[g[r]]>m?r:m}},{"./common":41}],43:[function(v,O,k){O.exports=function(h,o,s,l){for(var u=65535&h|0,b=h>>>16&65535|0,g=0;s!==0;){for(s-=g=2e3<s?2e3:s;b=b+(u=u+o[l++]|0)|0,--g;);u%=65521,b%=65521}return u|b<<16|0}},{}],44:[function(v,O,k){O.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(v,O,k){var h=function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s}();O.exports=function(o,s,l,u){var b=h,g=u+l;o^=-1;for(var m=u;m<g;m++)o=o>>>8^b[255&(o^s[m])];return-1^o}},{}],46:[function(v,O,k){var h,o=v("../utils/common"),s=v("./trees"),l=v("./adler32"),u=v("./crc32"),b=v("./messages"),g=0,m=4,r=0,f=-2,n=-1,c=4,a=2,p=8,w=9,j=286,C=30,U=19,T=2*j+1,Z=15,R=3,W=258,Q=W+R+1,_=42,B=113,e=1,P=2,et=3,M=4;function nt(t,D){return t.msg=b[D],D}function H(t){return(t<<1)-(4<t?9:0)}function tt(t){for(var D=t.length;0<=--D;)t[D]=0}function A(t){var D=t.state,I=D.pending;I>t.avail_out&&(I=t.avail_out),I!==0&&(o.arraySet(t.output,D.pending_buf,D.pending_out,I,t.next_out),t.next_out+=I,D.pending_out+=I,t.total_out+=I,t.avail_out-=I,D.pending-=I,D.pending===0&&(D.pending_out=0))}function E(t,D){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,D),t.block_start=t.strstart,A(t.strm)}function V(t,D){t.pending_buf[t.pending++]=D}function K(t,D){t.pending_buf[t.pending++]=D>>>8&255,t.pending_buf[t.pending++]=255&D}function G(t,D){var I,d,i=t.max_chain_length,y=t.strstart,F=t.prev_length,L=t.nice_match,z=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,X=t.window,q=t.w_mask,$=t.prev,J=t.strstart+W,ot=X[y+F-1],it=X[y+F];t.prev_length>=t.good_match&&(i>>=2),L>t.lookahead&&(L=t.lookahead);do if(X[(I=D)+F]===it&&X[I+F-1]===ot&&X[I]===X[y]&&X[++I]===X[y+1]){y+=2,I++;do;while(X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&X[++y]===X[++I]&&y<J);if(d=W-(J-y),y=J-W,F<d){if(t.match_start=D,L<=(F=d))break;ot=X[y+F-1],it=X[y+F]}}while((D=$[D&q])>z&&--i!=0);return F<=t.lookahead?F:t.lookahead}function ut(t){var D,I,d,i,y,F,L,z,X,q,$=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=$+($-Q)){for(o.arraySet(t.window,t.window,$,$,0),t.match_start-=$,t.strstart-=$,t.block_start-=$,D=I=t.hash_size;d=t.head[--D],t.head[D]=$<=d?d-$:0,--I;);for(D=I=$;d=t.prev[--D],t.prev[D]=$<=d?d-$:0,--I;);i+=$}if(t.strm.avail_in===0)break;if(F=t.strm,L=t.window,z=t.strstart+t.lookahead,X=i,q=void 0,q=F.avail_in,X<q&&(q=X),I=q===0?0:(F.avail_in-=q,o.arraySet(L,F.input,F.next_in,q,z),F.state.wrap===1?F.adler=l(F.adler,L,q,z):F.state.wrap===2&&(F.adler=u(F.adler,L,q,z)),F.next_in+=q,F.total_in+=q,q),t.lookahead+=I,t.lookahead+t.insert>=R)for(y=t.strstart-t.insert,t.ins_h=t.window[y],t.ins_h=(t.ins_h<<t.hash_shift^t.window[y+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[y+R-1])&t.hash_mask,t.prev[y&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=y,y++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function bt(t,D){for(var I,d;;){if(t.lookahead<Q){if(ut(t),t.lookahead<Q&&D===g)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),I!==0&&t.strstart-I<=t.w_size-Q&&(t.match_length=G(t,I)),t.match_length>=R)if(d=s._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else d=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(d&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<R-1?t.strstart:R-1,D===m?(E(t,!0),t.strm.avail_out===0?et:M):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:P}function st(t,D){for(var I,d,i;;){if(t.lookahead<Q){if(ut(t),t.lookahead<Q&&D===g)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,I!==0&&t.prev_length<t.max_lazy_match&&t.strstart-I<=t.w_size-Q&&(t.match_length=G(t,I),t.match_length<=5&&(t.strategy===1||t.match_length===R&&4096<t.strstart-t.match_start)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-R,d=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=R-1,t.strstart++,d&&(E(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((d=s._tr_tally(t,0,t.window[t.strstart-1]))&&E(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(d=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,D===m?(E(t,!0),t.strm.avail_out===0?et:M):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:P}function at(t,D,I,d,i){this.good_length=t,this.max_lazy=D,this.nice_length=I,this.max_chain=d,this.func=i}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*T),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*U+1)),tt(this.dyn_ltree),tt(this.dyn_dtree),tt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(Z+1),this.heap=new o.Buf16(2*j+1),tt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*j+1),tt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var D;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=a,(D=t.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?_:B,t.adler=D.wrap===2?0:1,D.last_flush=g,s._tr_init(D),r):nt(t,f)}function xt(t){var D=ct(t);return D===r&&function(I){I.window_size=2*I.w_size,tt(I.head),I.max_lazy_match=h[I.level].max_lazy,I.good_match=h[I.level].good_length,I.nice_match=h[I.level].nice_length,I.max_chain_length=h[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=R-1,I.match_available=0,I.ins_h=0}(t.state),D}function _t(t,D,I,d,i,y){if(!t)return f;var F=1;if(D===n&&(D=6),d<0?(F=0,d=-d):15<d&&(F=2,d-=16),i<1||w<i||I!==p||d<8||15<d||D<0||9<D||y<0||c<y)return nt(t,f);d===8&&(d=9);var L=new gt;return(t.state=L).strm=t,L.wrap=F,L.gzhead=null,L.w_bits=d,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=i+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+R-1)/R),L.window=new o.Buf8(2*L.w_size),L.head=new o.Buf16(L.hash_size),L.prev=new o.Buf16(L.w_size),L.lit_bufsize=1<<i+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new o.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=D,L.strategy=y,L.method=I,xt(t)}h=[new at(0,0,0,0,function(t,D){var I=65535;for(I>t.pending_buf_size-5&&(I=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ut(t),t.lookahead===0&&D===g)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var d=t.block_start+I;if((t.strstart===0||t.strstart>=d)&&(t.lookahead=t.strstart-d,t.strstart=d,E(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=0,D===m?(E(t,!0),t.strm.avail_out===0?et:M):(t.strstart>t.block_start&&(E(t,!1),t.strm.avail_out),e)}),new at(4,4,8,4,bt),new at(4,5,16,8,bt),new at(4,6,32,32,bt),new at(4,4,16,16,st),new at(8,16,32,32,st),new at(8,16,128,128,st),new at(8,32,128,256,st),new at(32,128,258,1024,st),new at(32,258,258,4096,st)],k.deflateInit=function(t,D){return _t(t,D,p,15,8,0)},k.deflateInit2=_t,k.deflateReset=xt,k.deflateResetKeep=ct,k.deflateSetHeader=function(t,D){return t&&t.state?t.state.wrap!==2?f:(t.state.gzhead=D,r):f},k.deflate=function(t,D){var I,d,i,y;if(!t||!t.state||5<D||D<0)return t?nt(t,f):f;if(d=t.state,!t.output||!t.input&&t.avail_in!==0||d.status===666&&D!==m)return nt(t,t.avail_out===0?-5:f);if(d.strm=t,I=d.last_flush,d.last_flush=D,d.status===_)if(d.wrap===2)t.adler=0,V(d,31),V(d,139),V(d,8),d.gzhead?(V(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),V(d,255&d.gzhead.time),V(d,d.gzhead.time>>8&255),V(d,d.gzhead.time>>16&255),V(d,d.gzhead.time>>24&255),V(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),V(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(V(d,255&d.gzhead.extra.length),V(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(t.adler=u(t.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(V(d,0),V(d,0),V(d,0),V(d,0),V(d,0),V(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),V(d,3),d.status=B);else{var F=p+(d.w_bits-8<<4)<<8;F|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(F|=32),F+=31-F%31,d.status=B,K(d,F),d.strstart!==0&&(K(d,t.adler>>>16),K(d,65535&t.adler)),t.adler=1}if(d.status===69)if(d.gzhead.extra){for(i=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),A(t),i=d.pending,d.pending!==d.pending_buf_size));)V(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){i=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),A(t),i=d.pending,d.pending===d.pending_buf_size)){y=1;break}y=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,V(d,y)}while(y!==0);d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),y===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){i=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),A(t),i=d.pending,d.pending===d.pending_buf_size)){y=1;break}y=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,V(d,y)}while(y!==0);d.gzhead.hcrc&&d.pending>i&&(t.adler=u(t.adler,d.pending_buf,d.pending-i,i)),y===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&A(t),d.pending+2<=d.pending_buf_size&&(V(d,255&t.adler),V(d,t.adler>>8&255),t.adler=0,d.status=B)):d.status=B),d.pending!==0){if(A(t),t.avail_out===0)return d.last_flush=-1,r}else if(t.avail_in===0&&H(D)<=H(I)&&D!==m)return nt(t,-5);if(d.status===666&&t.avail_in!==0)return nt(t,-5);if(t.avail_in!==0||d.lookahead!==0||D!==g&&d.status!==666){var L=d.strategy===2?function(z,X){for(var q;;){if(z.lookahead===0&&(ut(z),z.lookahead===0)){if(X===g)return e;break}if(z.match_length=0,q=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,q&&(E(z,!1),z.strm.avail_out===0))return e}return z.insert=0,X===m?(E(z,!0),z.strm.avail_out===0?et:M):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?e:P}(d,D):d.strategy===3?function(z,X){for(var q,$,J,ot,it=z.window;;){if(z.lookahead<=W){if(ut(z),z.lookahead<=W&&X===g)return e;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&($=it[J=z.strstart-1])===it[++J]&&$===it[++J]&&$===it[++J]){ot=z.strstart+W;do;while($===it[++J]&&$===it[++J]&&$===it[++J]&&$===it[++J]&&$===it[++J]&&$===it[++J]&&$===it[++J]&&$===it[++J]&&J<ot);z.match_length=W-(ot-J),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(q=s._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(q=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),q&&(E(z,!1),z.strm.avail_out===0))return e}return z.insert=0,X===m?(E(z,!0),z.strm.avail_out===0?et:M):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?e:P}(d,D):h[d.level].func(d,D);if(L!==et&&L!==M||(d.status=666),L===e||L===et)return t.avail_out===0&&(d.last_flush=-1),r;if(L===P&&(D===1?s._tr_align(d):D!==5&&(s._tr_stored_block(d,0,0,!1),D===3&&(tt(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),A(t),t.avail_out===0))return d.last_flush=-1,r}return D!==m?r:d.wrap<=0?1:(d.wrap===2?(V(d,255&t.adler),V(d,t.adler>>8&255),V(d,t.adler>>16&255),V(d,t.adler>>24&255),V(d,255&t.total_in),V(d,t.total_in>>8&255),V(d,t.total_in>>16&255),V(d,t.total_in>>24&255)):(K(d,t.adler>>>16),K(d,65535&t.adler)),A(t),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?r:1)},k.deflateEnd=function(t){var D;return t&&t.state?(D=t.state.status)!==_&&D!==69&&D!==73&&D!==91&&D!==103&&D!==B&&D!==666?nt(t,f):(t.state=null,D===B?nt(t,-3):r):f},k.deflateSetDictionary=function(t,D){var I,d,i,y,F,L,z,X,q=D.length;if(!t||!t.state||(y=(I=t.state).wrap)===2||y===1&&I.status!==_||I.lookahead)return f;for(y===1&&(t.adler=l(t.adler,D,q,0)),I.wrap=0,q>=I.w_size&&(y===0&&(tt(I.head),I.strstart=0,I.block_start=0,I.insert=0),X=new o.Buf8(I.w_size),o.arraySet(X,D,q-I.w_size,I.w_size,0),D=X,q=I.w_size),F=t.avail_in,L=t.next_in,z=t.input,t.avail_in=q,t.next_in=0,t.input=D,ut(I);I.lookahead>=R;){for(d=I.strstart,i=I.lookahead-(R-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[d+R-1])&I.hash_mask,I.prev[d&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=d,d++,--i;);I.strstart=d,I.lookahead=R-1,ut(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=R-1,I.match_available=0,t.next_in=L,t.input=z,t.avail_in=F,I.wrap=y,r},k.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(v,O,k){O.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(v,O,k){O.exports=function(h,o){var s,l,u,b,g,m,r,f,n,c,a,p,w,j,C,U,T,Z,R,W,Q,_,B,e,P;s=h.state,l=h.next_in,e=h.input,u=l+(h.avail_in-5),b=h.next_out,P=h.output,g=b-(o-h.avail_out),m=b+(h.avail_out-257),r=s.dmax,f=s.wsize,n=s.whave,c=s.wnext,a=s.window,p=s.hold,w=s.bits,j=s.lencode,C=s.distcode,U=(1<<s.lenbits)-1,T=(1<<s.distbits)-1;t:do{w<15&&(p+=e[l++]<<w,w+=8,p+=e[l++]<<w,w+=8),Z=j[p&U];e:for(;;){if(p>>>=R=Z>>>24,w-=R,(R=Z>>>16&255)===0)P[b++]=65535&Z;else{if(!(16&R)){if(!(64&R)){Z=j[(65535&Z)+(p&(1<<R)-1)];continue e}if(32&R){s.mode=12;break t}h.msg="invalid literal/length code",s.mode=30;break t}W=65535&Z,(R&=15)&&(w<R&&(p+=e[l++]<<w,w+=8),W+=p&(1<<R)-1,p>>>=R,w-=R),w<15&&(p+=e[l++]<<w,w+=8,p+=e[l++]<<w,w+=8),Z=C[p&T];r:for(;;){if(p>>>=R=Z>>>24,w-=R,!(16&(R=Z>>>16&255))){if(!(64&R)){Z=C[(65535&Z)+(p&(1<<R)-1)];continue r}h.msg="invalid distance code",s.mode=30;break t}if(Q=65535&Z,w<(R&=15)&&(p+=e[l++]<<w,(w+=8)<R&&(p+=e[l++]<<w,w+=8)),r<(Q+=p&(1<<R)-1)){h.msg="invalid distance too far back",s.mode=30;break t}if(p>>>=R,w-=R,(R=b-g)<Q){if(n<(R=Q-R)&&s.sane){h.msg="invalid distance too far back",s.mode=30;break t}if(B=a,(_=0)===c){if(_+=f-R,R<W){for(W-=R;P[b++]=a[_++],--R;);_=b-Q,B=P}}else if(c<R){if(_+=f+c-R,(R-=c)<W){for(W-=R;P[b++]=a[_++],--R;);if(_=0,c<W){for(W-=R=c;P[b++]=a[_++],--R;);_=b-Q,B=P}}}else if(_+=c-R,R<W){for(W-=R;P[b++]=a[_++],--R;);_=b-Q,B=P}for(;2<W;)P[b++]=B[_++],P[b++]=B[_++],P[b++]=B[_++],W-=3;W&&(P[b++]=B[_++],1<W&&(P[b++]=B[_++]))}else{for(_=b-Q;P[b++]=P[_++],P[b++]=P[_++],P[b++]=P[_++],2<(W-=3););W&&(P[b++]=P[_++],1<W&&(P[b++]=P[_++]))}break}}break}}while(l<u&&b<m);l-=W=w>>3,p&=(1<<(w-=W<<3))-1,h.next_in=l,h.next_out=b,h.avail_in=l<u?u-l+5:5-(l-u),h.avail_out=b<m?m-b+257:257-(b-m),s.hold=p,s.bits=w}},{}],49:[function(v,O,k){var h=v("../utils/common"),o=v("./adler32"),s=v("./crc32"),l=v("./inffast"),u=v("./inftrees"),b=1,g=2,m=0,r=-2,f=1,n=852,c=592;function a(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(_){var B;return _&&_.state?(B=_.state,_.total_in=_.total_out=B.total=0,_.msg="",B.wrap&&(_.adler=1&B.wrap),B.mode=f,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new h.Buf32(n),B.distcode=B.distdyn=new h.Buf32(c),B.sane=1,B.back=-1,m):r}function j(_){var B;return _&&_.state?((B=_.state).wsize=0,B.whave=0,B.wnext=0,w(_)):r}function C(_,B){var e,P;return _&&_.state?(P=_.state,B<0?(e=0,B=-B):(e=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?r:(P.window!==null&&P.wbits!==B&&(P.window=null),P.wrap=e,P.wbits=B,j(_))):r}function U(_,B){var e,P;return _?(P=new p,(_.state=P).window=null,(e=C(_,B))!==m&&(_.state=null),e):r}var T,Z,R=!0;function W(_){if(R){var B;for(T=new h.Buf32(512),Z=new h.Buf32(32),B=0;B<144;)_.lens[B++]=8;for(;B<256;)_.lens[B++]=9;for(;B<280;)_.lens[B++]=7;for(;B<288;)_.lens[B++]=8;for(u(b,_.lens,0,288,T,0,_.work,{bits:9}),B=0;B<32;)_.lens[B++]=5;u(g,_.lens,0,32,Z,0,_.work,{bits:5}),R=!1}_.lencode=T,_.lenbits=9,_.distcode=Z,_.distbits=5}function Q(_,B,e,P){var et,M=_.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new h.Buf8(M.wsize)),P>=M.wsize?(h.arraySet(M.window,B,e-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(P<(et=M.wsize-M.wnext)&&(et=P),h.arraySet(M.window,B,e-P,et,M.wnext),(P-=et)?(h.arraySet(M.window,B,e-P,P,0),M.wnext=P,M.whave=M.wsize):(M.wnext+=et,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=et))),0}k.inflateReset=j,k.inflateReset2=C,k.inflateResetKeep=w,k.inflateInit=function(_){return U(_,15)},k.inflateInit2=U,k.inflate=function(_,B){var e,P,et,M,nt,H,tt,A,E,V,K,G,ut,bt,st,at,gt,ct,xt,_t,t,D,I,d,i=0,y=new h.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return r;(e=_.state).mode===12&&(e.mode=13),nt=_.next_out,et=_.output,tt=_.avail_out,M=_.next_in,P=_.input,H=_.avail_in,A=e.hold,E=e.bits,V=H,K=tt,D=m;t:for(;;)switch(e.mode){case f:if(e.wrap===0){e.mode=13;break}for(;E<16;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(2&e.wrap&&A===35615){y[e.check=0]=255&A,y[1]=A>>>8&255,e.check=s(e.check,y,2,0),E=A=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&A)<<8)+(A>>8))%31){_.msg="incorrect header check",e.mode=30;break}if((15&A)!=8){_.msg="unknown compression method",e.mode=30;break}if(E-=4,t=8+(15&(A>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){_.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,_.adler=e.check=1,e.mode=512&A?10:12,E=A=0;break;case 2:for(;E<16;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(e.flags=A,(255&e.flags)!=8){_.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){_.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=A>>8&1),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=s(e.check,y,2,0)),E=A=0,e.mode=3;case 3:for(;E<32;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.head&&(e.head.time=A),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,y[2]=A>>>16&255,y[3]=A>>>24&255,e.check=s(e.check,y,4,0)),E=A=0,e.mode=4;case 4:for(;E<16;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.head&&(e.head.xflags=255&A,e.head.os=A>>8),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=s(e.check,y,2,0)),E=A=0,e.mode=5;case 5:if(1024&e.flags){for(;E<16;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.length=A,e.head&&(e.head.extra_len=A),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=s(e.check,y,2,0)),E=A=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(H<(G=e.length)&&(G=H),G&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),h.arraySet(e.head.extra,P,M,G,t)),512&e.flags&&(e.check=s(e.check,P,G,M)),H-=G,M+=G,e.length-=G),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(H===0)break t;for(G=0;t=P[M+G++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&G<H;);if(512&e.flags&&(e.check=s(e.check,P,G,M)),H-=G,M+=G,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(H===0)break t;for(G=0;t=P[M+G++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&G<H;);if(512&e.flags&&(e.check=s(e.check,P,G,M)),H-=G,M+=G,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;E<16;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(A!==(65535&e.check)){_.msg="header crc mismatch",e.mode=30;break}E=A=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),_.adler=e.check=0,e.mode=12;break;case 10:for(;E<32;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}_.adler=e.check=a(A),E=A=0,e.mode=11;case 11:if(e.havedict===0)return _.next_out=nt,_.avail_out=tt,_.next_in=M,_.avail_in=H,e.hold=A,e.bits=E,2;_.adler=e.check=1,e.mode=12;case 12:if(B===5||B===6)break t;case 13:if(e.last){A>>>=7&E,E-=7&E,e.mode=27;break}for(;E<3;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}switch(e.last=1&A,E-=1,3&(A>>>=1)){case 0:e.mode=14;break;case 1:if(W(e),e.mode=20,B!==6)break;A>>>=2,E-=2;break t;case 2:e.mode=17;break;case 3:_.msg="invalid block type",e.mode=30}A>>>=2,E-=2;break;case 14:for(A>>>=7&E,E-=7&E;E<32;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if((65535&A)!=(A>>>16^65535)){_.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&A,E=A=0,e.mode=15,B===6)break t;case 15:e.mode=16;case 16:if(G=e.length){if(H<G&&(G=H),tt<G&&(G=tt),G===0)break t;h.arraySet(et,P,M,G,nt),H-=G,M+=G,tt-=G,nt+=G,e.length-=G;break}e.mode=12;break;case 17:for(;E<14;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(e.nlen=257+(31&A),A>>>=5,E-=5,e.ndist=1+(31&A),A>>>=5,E-=5,e.ncode=4+(15&A),A>>>=4,E-=4,286<e.nlen||30<e.ndist){_.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;E<3;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.lens[F[e.have++]]=7&A,A>>>=3,E-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,I={bits:e.lenbits},D=u(0,e.lens,0,19,e.lencode,0,e.work,I),e.lenbits=I.bits,D){_.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;at=(i=e.lencode[A&(1<<e.lenbits)-1])>>>16&255,gt=65535&i,!((st=i>>>24)<=E);){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(gt<16)A>>>=st,E-=st,e.lens[e.have++]=gt;else{if(gt===16){for(d=st+2;E<d;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(A>>>=st,E-=st,e.have===0){_.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],G=3+(3&A),A>>>=2,E-=2}else if(gt===17){for(d=st+3;E<d;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}E-=st,t=0,G=3+(7&(A>>>=st)),A>>>=3,E-=3}else{for(d=st+7;E<d;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}E-=st,t=0,G=11+(127&(A>>>=st)),A>>>=7,E-=7}if(e.have+G>e.nlen+e.ndist){_.msg="invalid bit length repeat",e.mode=30;break}for(;G--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){_.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,I={bits:e.lenbits},D=u(b,e.lens,0,e.nlen,e.lencode,0,e.work,I),e.lenbits=I.bits,D){_.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,I={bits:e.distbits},D=u(g,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,I),e.distbits=I.bits,D){_.msg="invalid distances set",e.mode=30;break}if(e.mode=20,B===6)break t;case 20:e.mode=21;case 21:if(6<=H&&258<=tt){_.next_out=nt,_.avail_out=tt,_.next_in=M,_.avail_in=H,e.hold=A,e.bits=E,l(_,K),nt=_.next_out,et=_.output,tt=_.avail_out,M=_.next_in,P=_.input,H=_.avail_in,A=e.hold,E=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;at=(i=e.lencode[A&(1<<e.lenbits)-1])>>>16&255,gt=65535&i,!((st=i>>>24)<=E);){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(at&&!(240&at)){for(ct=st,xt=at,_t=gt;at=(i=e.lencode[_t+((A&(1<<ct+xt)-1)>>ct)])>>>16&255,gt=65535&i,!(ct+(st=i>>>24)<=E);){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}A>>>=ct,E-=ct,e.back+=ct}if(A>>>=st,E-=st,e.back+=st,e.length=gt,at===0){e.mode=26;break}if(32&at){e.back=-1,e.mode=12;break}if(64&at){_.msg="invalid literal/length code",e.mode=30;break}e.extra=15&at,e.mode=22;case 22:if(e.extra){for(d=e.extra;E<d;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.length+=A&(1<<e.extra)-1,A>>>=e.extra,E-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;at=(i=e.distcode[A&(1<<e.distbits)-1])>>>16&255,gt=65535&i,!((st=i>>>24)<=E);){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(!(240&at)){for(ct=st,xt=at,_t=gt;at=(i=e.distcode[_t+((A&(1<<ct+xt)-1)>>ct)])>>>16&255,gt=65535&i,!(ct+(st=i>>>24)<=E);){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}A>>>=ct,E-=ct,e.back+=ct}if(A>>>=st,E-=st,e.back+=st,64&at){_.msg="invalid distance code",e.mode=30;break}e.offset=gt,e.extra=15&at,e.mode=24;case 24:if(e.extra){for(d=e.extra;E<d;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}e.offset+=A&(1<<e.extra)-1,A>>>=e.extra,E-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){_.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(tt===0)break t;if(G=K-tt,e.offset>G){if((G=e.offset-G)>e.whave&&e.sane){_.msg="invalid distance too far back",e.mode=30;break}ut=G>e.wnext?(G-=e.wnext,e.wsize-G):e.wnext-G,G>e.length&&(G=e.length),bt=e.window}else bt=et,ut=nt-e.offset,G=e.length;for(tt<G&&(G=tt),tt-=G,e.length-=G;et[nt++]=bt[ut++],--G;);e.length===0&&(e.mode=21);break;case 26:if(tt===0)break t;et[nt++]=e.length,tt--,e.mode=21;break;case 27:if(e.wrap){for(;E<32;){if(H===0)break t;H--,A|=P[M++]<<E,E+=8}if(K-=tt,_.total_out+=K,e.total+=K,K&&(_.adler=e.check=e.flags?s(e.check,et,K,nt-K):o(e.check,et,K,nt-K)),K=tt,(e.flags?A:a(A))!==e.check){_.msg="incorrect data check",e.mode=30;break}E=A=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;E<32;){if(H===0)break t;H--,A+=P[M++]<<E,E+=8}if(A!==(4294967295&e.total)){_.msg="incorrect length check",e.mode=30;break}E=A=0}e.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;case 32:default:return r}return _.next_out=nt,_.avail_out=tt,_.next_in=M,_.avail_in=H,e.hold=A,e.bits=E,(e.wsize||K!==_.avail_out&&e.mode<30&&(e.mode<27||B!==4))&&Q(_,_.output,_.next_out,K-_.avail_out)?(e.mode=31,-4):(V-=_.avail_in,K-=_.avail_out,_.total_in+=V,_.total_out+=K,e.total+=K,e.wrap&&K&&(_.adler=e.check=e.flags?s(e.check,et,K,_.next_out-K):o(e.check,et,K,_.next_out-K)),_.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(V==0&&K===0||B===4)&&D===m&&(D=-5),D)},k.inflateEnd=function(_){if(!_||!_.state)return r;var B=_.state;return B.window&&(B.window=null),_.state=null,m},k.inflateGetHeader=function(_,B){var e;return _&&_.state&&2&(e=_.state).wrap?((e.head=B).done=!1,m):r},k.inflateSetDictionary=function(_,B){var e,P=B.length;return _&&_.state?(e=_.state).wrap!==0&&e.mode!==11?r:e.mode===11&&o(1,B,P,0)!==e.check?-3:Q(_,B,P,P)?(e.mode=31,-4):(e.havedict=1,m):r},k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(v,O,k){var h=v("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];O.exports=function(b,g,m,r,f,n,c,a){var p,w,j,C,U,T,Z,R,W,Q=a.bits,_=0,B=0,e=0,P=0,et=0,M=0,nt=0,H=0,tt=0,A=0,E=null,V=0,K=new h.Buf16(16),G=new h.Buf16(16),ut=null,bt=0;for(_=0;_<=15;_++)K[_]=0;for(B=0;B<r;B++)K[g[m+B]]++;for(et=Q,P=15;1<=P&&K[P]===0;P--);if(P<et&&(et=P),P===0)return f[n++]=20971520,f[n++]=20971520,a.bits=1,0;for(e=1;e<P&&K[e]===0;e++);for(et<e&&(et=e),_=H=1;_<=15;_++)if(H<<=1,(H-=K[_])<0)return-1;if(0<H&&(b===0||P!==1))return-1;for(G[1]=0,_=1;_<15;_++)G[_+1]=G[_]+K[_];for(B=0;B<r;B++)g[m+B]!==0&&(c[G[g[m+B]]++]=B);if(T=b===0?(E=ut=c,19):b===1?(E=o,V-=257,ut=s,bt-=257,256):(E=l,ut=u,-1),_=e,U=n,nt=B=A=0,j=-1,C=(tt=1<<(M=et))-1,b===1&&852<tt||b===2&&592<tt)return 1;for(;;){for(Z=_-nt,W=c[B]<T?(R=0,c[B]):c[B]>T?(R=ut[bt+c[B]],E[V+c[B]]):(R=96,0),p=1<<_-nt,e=w=1<<M;f[U+(A>>nt)+(w-=p)]=Z<<24|R<<16|W|0,w!==0;);for(p=1<<_-1;A&p;)p>>=1;if(p!==0?(A&=p-1,A+=p):A=0,B++,--K[_]==0){if(_===P)break;_=g[m+c[B]]}if(et<_&&(A&C)!==j){for(nt===0&&(nt=et),U+=e,H=1<<(M=_-nt);M+nt<P&&!((H-=K[M+nt])<=0);)M++,H<<=1;if(tt+=1<<M,b===1&&852<tt||b===2&&592<tt)return 1;f[j=A&C]=et<<24|M<<16|U-n|0}}return A!==0&&(f[U+A]=_-nt<<24|64<<16|0),a.bits=et,0}},{"../utils/common":41}],51:[function(v,O,k){O.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(v,O,k){var h=v("../utils/common"),o=0,s=1;function l(i){for(var y=i.length;0<=--y;)i[y]=0}var u=0,b=29,g=256,m=g+1+b,r=30,f=19,n=2*m+1,c=15,a=16,p=7,w=256,j=16,C=17,U=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(m+2));l(Q);var _=new Array(2*r);l(_);var B=new Array(512);l(B);var e=new Array(256);l(e);var P=new Array(b);l(P);var et,M,nt,H=new Array(r);function tt(i,y,F,L,z){this.static_tree=i,this.extra_bits=y,this.extra_base=F,this.elems=L,this.max_length=z,this.has_stree=i&&i.length}function A(i,y){this.dyn_tree=i,this.max_code=0,this.stat_desc=y}function E(i){return i<256?B[i]:B[256+(i>>>7)]}function V(i,y){i.pending_buf[i.pending++]=255&y,i.pending_buf[i.pending++]=y>>>8&255}function K(i,y,F){i.bi_valid>a-F?(i.bi_buf|=y<<i.bi_valid&65535,V(i,i.bi_buf),i.bi_buf=y>>a-i.bi_valid,i.bi_valid+=F-a):(i.bi_buf|=y<<i.bi_valid&65535,i.bi_valid+=F)}function G(i,y,F){K(i,F[2*y],F[2*y+1])}function ut(i,y){for(var F=0;F|=1&i,i>>>=1,F<<=1,0<--y;);return F>>>1}function bt(i,y,F){var L,z,X=new Array(c+1),q=0;for(L=1;L<=c;L++)X[L]=q=q+F[L-1]<<1;for(z=0;z<=y;z++){var $=i[2*z+1];$!==0&&(i[2*z]=ut(X[$]++,$))}}function st(i){var y;for(y=0;y<m;y++)i.dyn_ltree[2*y]=0;for(y=0;y<r;y++)i.dyn_dtree[2*y]=0;for(y=0;y<f;y++)i.bl_tree[2*y]=0;i.dyn_ltree[2*w]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function at(i){8<i.bi_valid?V(i,i.bi_buf):0<i.bi_valid&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function gt(i,y,F,L){var z=2*y,X=2*F;return i[z]<i[X]||i[z]===i[X]&&L[y]<=L[F]}function ct(i,y,F){for(var L=i.heap[F],z=F<<1;z<=i.heap_len&&(z<i.heap_len&&gt(y,i.heap[z+1],i.heap[z],i.depth)&&z++,!gt(y,L,i.heap[z],i.depth));)i.heap[F]=i.heap[z],F=z,z<<=1;i.heap[F]=L}function xt(i,y,F){var L,z,X,q,$=0;if(i.last_lit!==0)for(;L=i.pending_buf[i.d_buf+2*$]<<8|i.pending_buf[i.d_buf+2*$+1],z=i.pending_buf[i.l_buf+$],$++,L===0?G(i,z,y):(G(i,(X=e[z])+g+1,y),(q=T[X])!==0&&K(i,z-=P[X],q),G(i,X=E(--L),F),(q=Z[X])!==0&&K(i,L-=H[X],q)),$<i.last_lit;);G(i,w,y)}function _t(i,y){var F,L,z,X=y.dyn_tree,q=y.stat_desc.static_tree,$=y.stat_desc.has_stree,J=y.stat_desc.elems,ot=-1;for(i.heap_len=0,i.heap_max=n,F=0;F<J;F++)X[2*F]!==0?(i.heap[++i.heap_len]=ot=F,i.depth[F]=0):X[2*F+1]=0;for(;i.heap_len<2;)X[2*(z=i.heap[++i.heap_len]=ot<2?++ot:0)]=1,i.depth[z]=0,i.opt_len--,$&&(i.static_len-=q[2*z+1]);for(y.max_code=ot,F=i.heap_len>>1;1<=F;F--)ct(i,X,F);for(z=J;F=i.heap[1],i.heap[1]=i.heap[i.heap_len--],ct(i,X,1),L=i.heap[1],i.heap[--i.heap_max]=F,i.heap[--i.heap_max]=L,X[2*z]=X[2*F]+X[2*L],i.depth[z]=(i.depth[F]>=i.depth[L]?i.depth[F]:i.depth[L])+1,X[2*F+1]=X[2*L+1]=z,i.heap[1]=z++,ct(i,X,1),2<=i.heap_len;);i.heap[--i.heap_max]=i.heap[1],function(it,wt){var Et,yt,St,pt,Rt,Ft,kt=wt.dyn_tree,Ut=wt.max_code,Ot=wt.stat_desc.static_tree,Lt=wt.stat_desc.has_stree,Mt=wt.stat_desc.extra_bits,Pt=wt.stat_desc.extra_base,At=wt.stat_desc.max_length,Tt=0;for(pt=0;pt<=c;pt++)it.bl_count[pt]=0;for(kt[2*it.heap[it.heap_max]+1]=0,Et=it.heap_max+1;Et<n;Et++)At<(pt=kt[2*kt[2*(yt=it.heap[Et])+1]+1]+1)&&(pt=At,Tt++),kt[2*yt+1]=pt,Ut<yt||(it.bl_count[pt]++,Rt=0,Pt<=yt&&(Rt=Mt[yt-Pt]),Ft=kt[2*yt],it.opt_len+=Ft*(pt+Rt),Lt&&(it.static_len+=Ft*(Ot[2*yt+1]+Rt)));if(Tt!==0){do{for(pt=At-1;it.bl_count[pt]===0;)pt--;it.bl_count[pt]--,it.bl_count[pt+1]+=2,it.bl_count[At]--,Tt-=2}while(0<Tt);for(pt=At;pt!==0;pt--)for(yt=it.bl_count[pt];yt!==0;)Ut<(St=it.heap[--Et])||(kt[2*St+1]!==pt&&(it.opt_len+=(pt-kt[2*St+1])*kt[2*St],kt[2*St+1]=pt),yt--)}}(i,y),bt(X,ot,i.bl_count)}function t(i,y,F){var L,z,X=-1,q=y[1],$=0,J=7,ot=4;for(q===0&&(J=138,ot=3),y[2*(F+1)+1]=65535,L=0;L<=F;L++)z=q,q=y[2*(L+1)+1],++$<J&&z===q||($<ot?i.bl_tree[2*z]+=$:z!==0?(z!==X&&i.bl_tree[2*z]++,i.bl_tree[2*j]++):$<=10?i.bl_tree[2*C]++:i.bl_tree[2*U]++,X=z,ot=($=0)===q?(J=138,3):z===q?(J=6,3):(J=7,4))}function D(i,y,F){var L,z,X=-1,q=y[1],$=0,J=7,ot=4;for(q===0&&(J=138,ot=3),L=0;L<=F;L++)if(z=q,q=y[2*(L+1)+1],!(++$<J&&z===q)){if($<ot)for(;G(i,z,i.bl_tree),--$!=0;);else z!==0?(z!==X&&(G(i,z,i.bl_tree),$--),G(i,j,i.bl_tree),K(i,$-3,2)):$<=10?(G(i,C,i.bl_tree),K(i,$-3,3)):(G(i,U,i.bl_tree),K(i,$-11,7));X=z,ot=($=0)===q?(J=138,3):z===q?(J=6,3):(J=7,4)}}l(H);var I=!1;function d(i,y,F,L){K(i,(u<<1)+(L?1:0),3),function(z,X,q,$){at(z),V(z,q),V(z,~q),h.arraySet(z.pending_buf,z.window,X,q,z.pending),z.pending+=q}(i,y,F)}k._tr_init=function(i){I||(function(){var y,F,L,z,X,q=new Array(c+1);for(z=L=0;z<b-1;z++)for(P[z]=L,y=0;y<1<<T[z];y++)e[L++]=z;for(e[L-1]=z,z=X=0;z<16;z++)for(H[z]=X,y=0;y<1<<Z[z];y++)B[X++]=z;for(X>>=7;z<r;z++)for(H[z]=X<<7,y=0;y<1<<Z[z]-7;y++)B[256+X++]=z;for(F=0;F<=c;F++)q[F]=0;for(y=0;y<=143;)Q[2*y+1]=8,y++,q[8]++;for(;y<=255;)Q[2*y+1]=9,y++,q[9]++;for(;y<=279;)Q[2*y+1]=7,y++,q[7]++;for(;y<=287;)Q[2*y+1]=8,y++,q[8]++;for(bt(Q,m+1,q),y=0;y<r;y++)_[2*y+1]=5,_[2*y]=ut(y,5);et=new tt(Q,T,g+1,m,c),M=new tt(_,Z,0,r,c),nt=new tt(new Array(0),R,0,f,p)}(),I=!0),i.l_desc=new A(i.dyn_ltree,et),i.d_desc=new A(i.dyn_dtree,M),i.bl_desc=new A(i.bl_tree,nt),i.bi_buf=0,i.bi_valid=0,st(i)},k._tr_stored_block=d,k._tr_flush_block=function(i,y,F,L){var z,X,q=0;0<i.level?(i.strm.data_type===2&&(i.strm.data_type=function($){var J,ot=4093624447;for(J=0;J<=31;J++,ot>>>=1)if(1&ot&&$.dyn_ltree[2*J]!==0)return o;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return s;for(J=32;J<g;J++)if($.dyn_ltree[2*J]!==0)return s;return o}(i)),_t(i,i.l_desc),_t(i,i.d_desc),q=function($){var J;for(t($,$.dyn_ltree,$.l_desc.max_code),t($,$.dyn_dtree,$.d_desc.max_code),_t($,$.bl_desc),J=f-1;3<=J&&$.bl_tree[2*W[J]+1]===0;J--);return $.opt_len+=3*(J+1)+5+5+4,J}(i),z=i.opt_len+3+7>>>3,(X=i.static_len+3+7>>>3)<=z&&(z=X)):z=X=F+5,F+4<=z&&y!==-1?d(i,y,F,L):i.strategy===4||X===z?(K(i,2+(L?1:0),3),xt(i,Q,_)):(K(i,4+(L?1:0),3),function($,J,ot,it){var wt;for(K($,J-257,5),K($,ot-1,5),K($,it-4,4),wt=0;wt<it;wt++)K($,$.bl_tree[2*W[wt]+1],3);D($,$.dyn_ltree,J-1),D($,$.dyn_dtree,ot-1)}(i,i.l_desc.max_code+1,i.d_desc.max_code+1,q+1),xt(i,i.dyn_ltree,i.dyn_dtree)),st(i),L&&at(i)},k._tr_tally=function(i,y,F){return i.pending_buf[i.d_buf+2*i.last_lit]=y>>>8&255,i.pending_buf[i.d_buf+2*i.last_lit+1]=255&y,i.pending_buf[i.l_buf+i.last_lit]=255&F,i.last_lit++,y===0?i.dyn_ltree[2*F]++:(i.matches++,y--,i.dyn_ltree[2*(e[F]+g+1)]++,i.dyn_dtree[2*E(y)]++),i.last_lit===i.lit_bufsize-1},k._tr_align=function(i){K(i,2,3),G(i,w,Q),function(y){y.bi_valid===16?(V(y,y.bi_buf),y.bi_buf=0,y.bi_valid=0):8<=y.bi_valid&&(y.pending_buf[y.pending++]=255&y.bi_buf,y.bi_buf>>=8,y.bi_valid-=8)}(i)}},{"../utils/common":41}],53:[function(v,O,k){O.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(v,O,k){(function(h){(function(o,s){if(!o.setImmediate){var l,u,b,g,m=1,r={},f=!1,n=o.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(o);c=c&&c.setTimeout?c:o,l={}.toString.call(o.process)==="[object process]"?function(j){process.nextTick(function(){p(j)})}:function(){if(o.postMessage&&!o.importScripts){var j=!0,C=o.onmessage;return o.onmessage=function(){j=!1},o.postMessage("","*"),o.onmessage=C,j}}()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(j){o.postMessage(g+j,"*")}):o.MessageChannel?((b=new MessageChannel).port1.onmessage=function(j){p(j.data)},function(j){b.port2.postMessage(j)}):n&&"onreadystatechange"in n.createElement("script")?(u=n.documentElement,function(j){var C=n.createElement("script");C.onreadystatechange=function(){p(j),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(j){setTimeout(p,0,j)},c.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];var T={callback:j,args:C};return r[m]=T,l(m),m++},c.clearImmediate=a}function a(j){delete r[j]}function p(j){if(f)setTimeout(p,0,j);else{var C=r[j];if(C){f=!0;try{(function(U){var T=U.callback,Z=U.args;switch(Z.length){case 0:T();break;case 1:T(Z[0]);break;case 2:T(Z[0],Z[1]);break;case 3:T(Z[0],Z[1],Z[2]);break;default:T.apply(s,Z)}})(C)}finally{a(j),f=!1}}}}function w(j){j.source===o&&typeof j.data=="string"&&j.data.indexOf(g)===0&&p(+j.data.slice(g.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(pe);var Fe=pe.exports;const Pe=fe(Fe);var me={exports:{}};(function(zt,ft){(function(v,O){O()})(Ct,function(){function v(u,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function O(u,b,g){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){l(m.response,b,g)},m.onerror=function(){console.error("could not download file")},m.send()}function k(u){var b=new XMLHttpRequest;b.open("HEAD",u,!1);try{b.send()}catch{}return 200<=b.status&&299>=b.status}function h(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(b)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ct=="object"&&Ct.global===Ct?Ct:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,b,g){var m=o.URL||o.webkitURL,r=document.createElement("a");b=b||u.name||"download",r.download=b,r.rel="noopener",typeof u=="string"?(r.href=u,r.origin===location.origin?h(r):k(r.href)?O(u,b,g):h(r,r.target="_blank")):(r.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(r.href)},4e4),setTimeout(function(){h(r)},0))}:"msSaveOrOpenBlob"in navigator?function(u,b,g){if(b=b||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(v(u,g),b);else if(k(u))O(u,b,g);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){h(m)})}}:function(u,b,g,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return O(u,b,g);var r=u.type==="application/octet-stream",f=/constructor/i.test(o.HTMLElement)||o.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent);if((n||r&&f||s)&&typeof FileReader<"u"){var c=new FileReader;c.onloadend=function(){var w=c.result;w=n?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=w:location=w,m=null},c.readAsDataURL(u)}else{var a=o.URL||o.webkitURL,p=a.createObjectURL(u);m?m.location=p:location.href=p,m=null,setTimeout(function(){a.revokeObjectURL(p)},4e4)}});o.saveAs=l.saveAs=l,zt.exports=l})})(me);var Ue=me.exports;const Le=fe(Ue),Nt=1080,ue=[{name:"Animal",items:["https://cdn-icons-png.flaticon.com/256/4193/4193243.png","https://cdn-icons-png.flaticon.com/256/4193/4193245.png","https://cdn-icons-png.flaticon.com/256/4193/4193247.png","https://cdn-icons-png.flaticon.com/256/4193/4193251.png","https://cdn-icons-png.flaticon.com/256/4193/4193254.png","https://cdn-icons-png.flaticon.com/256/4193/4193256.png","https://cdn-icons-png.flaticon.com/256/4193/4193260.png","https://cdn-icons-png.flaticon.com/256/4193/4193263.png","https://cdn-icons-png.flaticon.com/256/4193/4193266.png","https://cdn-icons-png.flaticon.com/256/4193/4193269.png","https://cdn-icons-png.flaticon.com/256/4193/4193273.png","https://cdn-icons-png.flaticon.com/256/4193/4193275.png","https://cdn-icons-png.flaticon.com/256/4193/4193279.png"]},{name:"Food",items:["https://cdn-icons-png.flaticon.com/256/4359/4359613.png","https://cdn-icons-png.flaticon.com/256/4359/4359623.png","https://cdn-icons-png.flaticon.com/256/4359/4359633.png","https://cdn-icons-png.flaticon.com/256/4359/4359642.png","https://cdn-icons-png.flaticon.com/256/4359/4359651.png","https://cdn-icons-png.flaticon.com/256/4359/4359658.png","https://cdn-icons-png.flaticon.com/256/4359/4359672.png","https://cdn-icons-png.flaticon.com/256/4359/4359682.png","https://cdn-icons-png.flaticon.com/256/4359/4359692.png","https://cdn-icons-png.flaticon.com/256/4359/4359703.png","https://cdn-icons-png.flaticon.com/256/4359/4359725.png","https://cdn-icons-png.flaticon.com/256/4359/4359746.png","https://cdn-icons-png.flaticon.com/256/4359/4359763.png","https://cdn-icons-png.flaticon.com/256/4359/4359781.png","https://cdn-icons-png.flaticon.com/256/4359/4359814.png","https://cdn-icons-png.flaticon.com/256/4359/4359840.png","https://cdn-icons-png.flaticon.com/256/4359/4359859.png","https://cdn-icons-png.flaticon.com/256/4359/4359883.png","https://cdn-icons-png.flaticon.com/256/4359/4359904.png","https://cdn-icons-png.flaticon.com/256/4359/4359922.png"]}],We=({onExit:zt})=>{var Vt,Jt,Qt,te,ee,re,ne,se,ae,ie,oe,le,ce;const[ft,v]=ht.useState([]),[O,k]=ht.useState(null),[h,o]=ht.useState([[]]),[s,l]=ht.useState(0),[u,b]=ht.useState(.5),[g,m]=ht.useState({x:0,y:0}),[r,f]=ht.useState(3),[n,c]=ht.useState("square"),[a,p]=ht.useState("#ffffff"),[w,j]=ht.useState(!1),[C,U]=ht.useState("add"),[T,Z]=ht.useState(null),[R,W]=ht.useState("none"),[Q,_]=ht.useState(null),[B,e]=ht.useState(!1),[P,et]=ht.useState(null),[M,nt]=ht.useState(""),H=ht.useRef(null),tt=ht.useRef(null),A=ht.useRef(!1),E=ht.useRef(!1),V=ht.useRef({x:0,y:0}),K=ht.useRef({x:0,y:0}),G=ht.useRef({x:0,y:0}),ut=ht.useRef(!1),bt=ht.useRef(!1),st=ht.useRef({x:0,y:0}),at=ht.useRef(!1),gt=ht.useRef({x:0,y:0,w:0,h:0}),ct=ht.useRef(null),xt=n==="square"?Nt:Nt*5/4,_t=r*Nt,t=xt;ht.useEffect(()=>{const x=()=>_(null);return window.addEventListener("click",x),()=>window.removeEventListener("click",x)},[]);const D=x=>{const Y=Math.max(100,x.length*42+50),rt=60*2,lt=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${rt}" viewBox="0 0 ${Y} ${rt}">
            <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="60" font-weight="bold" fill="#0f172a" text-anchor="middle" dominant-baseline="middle">${x}</text>
        </svg>`;try{return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(lt)))}`}catch(mt){return console.error("Text encoding failed",mt),`data:image/svg+xml;base64,${btoa(lt)}`}},I=x=>{let N="";return x==="circle"?N='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><circle cx="100" cy="100" r="100" fill="#1e293b"/></svg>':x==="square"?N='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect width="200" height="200" fill="#334155"/></svg>':x==="triangle"?N='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M100 10 L190 190 L10 190 Z" fill="#475569"/></svg>':x==="star"?N='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="m100 10 25 60 65 5-50 45 15 65-55-35-55 35 15-65-50-45 65-5z" fill="#0f172a"/></svg>':x==="heart"&&(N='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M100 180 C10 100 -20 50 40 20 C70 5 90 30 100 50 C110 30 130 5 160 20 C220 50 190 100 100 180 Z" fill="#ef4444"/></svg>'),`data:image/svg+xml;base64,${btoa(N)}`},d=x=>{const N=h.slice(0,s+1);N.push(x),o(N),l(N.length-1)},i=()=>{if(s>0){const x=s-1;v(h[x]),l(x)}else s===0&&(v([]),l(-1))},y=x=>{v(x),d(x)},F=(x,N="image",Y)=>{const rt=new Image;rt.crossOrigin="anonymous",rt.onload=()=>{const lt=rt.width/rt.height,mt={id:Date.now().toString(),type:N,textContent:Y,src:x,x:_t/2-rt.width/2,y:t/2-rt.height/2,width:rt.width,height:rt.height,originalAspectRatio:lt,currentAspectRatio:lt,rotation:0,scaleX:1,borderRadius:0,borderColor:"#000000",borderWidth:0,isGrayscale:!1,maskShape:"none"};mt.width>1200&&(mt.width=1200,mt.height=1200/mt.originalAspectRatio);const dt=[...ft,mt];y(dt),k(mt.id),W("none")},rt.src=x},L=()=>{const x="Double Tap to Edit";F(D(x),"text",x),_(null)},z=x=>{if(x.target.files&&x.target.files[0]){const N=x.target.files[0],Y=new FileReader;Y.onload=rt=>{var lt;(lt=rt.target)!=null&&lt.result&&F(rt.target.result,"image")},Y.readAsDataURL(N)}x.target.value=""},X=()=>{if(!O)return;const x=ft.filter(N=>N.id!==O);y(x),k(null),W("none")},q=()=>{if(!O)return;const x=ft.find(N=>N.id===O);if(x){const N={...x,id:Date.now().toString(),x:x.x+50,y:x.y+50},Y=[...ft,N];y(Y),k(N.id),W("none")}},$=()=>{const x=ft.find(N=>N.id===O);!x||x.type!=="text"||(et(x.id),nt(x.textContent||""),W("none"))},J=()=>{if(!P)return;const x=M.trim()===""?" ":M,N=D(x),Y=new Image;Y.onload=()=>{const rt=Y.width/Y.height,lt=ft.map(mt=>mt.id===P?{...mt,src:N,textContent:x,width:Y.width,height:Y.height,originalAspectRatio:rt,currentAspectRatio:rt}:mt);y(lt),et(null)},Y.src=N},ot=(x,N=!0)=>{if(!O)return;const Y=ft.map(rt=>rt.id===O?{...rt,...x}:rt);N?y(Y):v(Y)},it=()=>{const x=ft.find(N=>N.id===O);x&&ot({rotation:(x.rotation+90)%360})},wt=()=>{const x=ft.find(N=>N.id===O);x&&ot({scaleX:x.scaleX*-1})},Et=()=>{if(!O)return;const x=ft.find(rt=>rt.id===O);if(!x)return;let N=x.originalAspectRatio;Math.abs(x.currentAspectRatio-x.originalAspectRatio)<.01?N=1:Math.abs(x.currentAspectRatio-1)<.01?N=.8:Math.abs(x.currentAspectRatio-.8)<.01?N=1.77:N=x.originalAspectRatio;const Y=x.width/N;ot({currentAspectRatio:N,height:Y})},yt=x=>{v(N=>{const Y=N.find(lt=>lt.id===x);return Y?[...N.filter(lt=>lt.id!==x),Y]:N})},St=x=>{if(!O)return;const N=ft.findIndex(rt=>rt.id===O);if(N===-1)return;const Y=[...ft];if(x==="front"){const[rt]=Y.splice(N,1);Y.push(rt)}else if(x==="back"){const[rt]=Y.splice(N,1);Y.unshift(rt)}else x==="forward"&&N<Y.length-1?[Y[N],Y[N+1]]=[Y[N+1],Y[N]]:x==="backward"&&N>0&&([Y[N],Y[N-1]]=[Y[N-1],Y[N]]);y(Y)},pt=async()=>{e(!0);try{const x=document.createElement("canvas");x.width=_t,x.height=t;const N=x.getContext("2d");if(!N)throw new Error("Canvas context failed");N.fillStyle=a,N.fillRect(0,0,_t,t);const Y=dt=>new Promise(jt=>{const It=new Image;It.crossOrigin="anonymous",It.onload=()=>{N.save();const Wt=dt.x+dt.width/2,$t=dt.y+dt.height/2;N.translate(Wt,$t),N.rotate(dt.rotation*Math.PI/180),N.scale(dt.scaleX,1),dt.isGrayscale&&(N.filter="grayscale(100%)");const Bt=dt.width,Dt=dt.height,Zt=-Bt/2,Ht=-Dt/2;if(N.beginPath(),dt.maskShape==="circle"){const ve=Math.min(Bt,Dt)/2;N.arc(0,0,ve,0,Math.PI*2)}else(dt.maskShape==="square"||dt.borderRadius>0)&&N.roundRect?N.roundRect(Zt,Ht,Bt,Dt,dt.borderRadius):N.rect(Zt,Ht,Bt,Dt);N.closePath(),N.save(),N.clip(),N.drawImage(It,Zt,Ht,Bt,Dt),N.restore(),N.filter="none",dt.borderWidth>0&&(N.lineWidth=dt.borderWidth,N.strokeStyle=dt.borderColor,N.stroke()),N.restore(),jt()},It.src=dt.src});await Promise.all(ft.map(Y));const rt=new Pe,lt=rt.folder("instagram-panorama");for(let dt=0;dt<r;dt++){const jt=document.createElement("canvas");jt.width=Nt,jt.height=xt;const It=jt.getContext("2d");if(It){It.drawImage(x,dt*Nt,0,Nt,xt,0,0,Nt,xt);const Wt=await new Promise($t=>jt.toBlob($t,"image/jpeg",.95));Wt&&lt&&lt.file(`slide_${dt+1}.jpg`,Wt)}}const mt=await rt.generateAsync({type:"blob"});Le.saveAs(mt,"ig-panorama-slides.zip")}catch{alert("Gagal membuat zip.")}finally{e(!1)}},Rt=x=>{x.ctrlKey&&x.preventDefault();const N=-x.deltaY*.001,Y=Math.min(Math.max(.05,u+N),3);b(Y)},Ft=x=>{const N=x.target;(N===tt.current||N.classList.contains("canvas-bg"))&&!A.current&&x.pointerType==="mouse"&&(E.current=!0,V.current={x:x.clientX,y:x.clientY},G.current={...g},x.button===0&&(k(null),et(null),W("none")))},kt=x=>{x.preventDefault(),_({x:x.clientX,y:x.clientY})},Ut=x=>{if(E.current){const N=x.clientX-V.current.x,Y=x.clientY-V.current.y;m({x:G.current.x+N,y:G.current.y+Y});return}if(A.current&&O){Math.hypot(x.clientX-st.current.x,x.clientY-st.current.y)>3&&(ut.current=!0);const Y=(x.clientX-V.current.x)/u,rt=(x.clientY-V.current.y)/u;v(lt=>lt.map(mt=>mt.id===O?{...mt,x:K.current.x+Y,y:K.current.y+rt}:mt));return}if(at.current&&O){const N=(x.clientX-gt.current.x)/u,Y=Math.max(50,gt.current.w+N);v(rt=>rt.map(lt=>lt.id===O?{...lt,width:Y,height:Y/lt.currentAspectRatio}:lt))}},Ot=()=>{(A.current||at.current)&&d(ft),A.current=!1,at.current=!1,E.current=!1,ct.current=null},Lt=(x,N,Y)=>{if(P)return;bt.current=O===Y,k(Y),W("none"),yt(Y),A.current=!0,ut.current=!1,st.current={x,y:N},V.current={x,y:N};const rt=ft.find(lt=>lt.id===Y);rt&&(K.current={x:rt.x,y:rt.y})},Mt=(x,N)=>{x.stopPropagation(),x.preventDefault();const Y="touches"in x?x.touches[0].clientX:x.clientX,rt="touches"in x?x.touches[0].clientY:x.clientY;at.current=!0;const lt=ft.find(mt=>mt.id===N);lt&&(gt.current={x:Y,y:rt,w:lt.width,h:lt.height})},Pt=x=>{!ut.current&&bt.current,Ot()},At=x=>{const N=ft.find(Y=>Y.id===x);N&&N.type==="text"&&$()},Tt=x=>{if(x.touches.length===2){x.preventDefault(),E.current=!1;const N=x.touches[0],Y=x.touches[1],rt=Math.hypot(Y.clientX-N.clientX,Y.clientY-N.clientY),lt={x:(N.clientX+Y.clientX)/2,y:(N.clientY+Y.clientY)/2};ct.current={startDist:rt,startScale:u,startPan:{...g},startCenter:lt}}else if(x.touches.length===1){const N=x.target;(N===tt.current||N.classList.contains("canvas-bg"))&&!A.current&&(k(null),et(null),W("none"))}},ge=x=>{if(x.touches.length===2&&ct.current){x.preventDefault();const N=x.touches[0],Y=x.touches[1],rt=Math.hypot(Y.clientX-N.clientX,Y.clientY-N.clientY),lt={x:(N.clientX+Y.clientX)/2,y:(N.clientY+Y.clientY)/2},mt=Math.max(.05,Math.min(3,ct.current.startScale*(rt/ct.current.startDist))),dt=lt.x-ct.current.startCenter.x,jt=lt.y-ct.current.startCenter.y;m({x:ct.current.startPan.x+dt,y:ct.current.startPan.y+jt}),b(mt)}},vt=()=>ft.find(x=>x.id===O),be=()=>b(x=>Math.min(x+.1,3)),_e=()=>b(x=>Math.max(x-.1,.05));return S.jsxs("div",{className:"h-[100dvh] bg-slate-50 text-slate-900 flex flex-col overflow-hidden font-sans relative",children:[S.jsx("style",{children:`
                    .no-scrollbar::-webkit-scrollbar { display: none; }
                    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                `}),Q&&S.jsxs("div",{className:"fixed z-[200] bg-white/90 backdrop-blur-md border border-slate-200 rounded-xl shadow-2xl p-2 animate-fade-in origin-top-left flex flex-col gap-1 w-48",style:{top:Q.y,left:Q.x},onClick:x=>x.stopPropagation(),children:[S.jsxs("button",{onClick:()=>{f(x=>Math.min(x+1,10)),_(null)},className:"flex items-center gap-3 px-3 py-2 text-xs font-bold text-slate-700 hover:bg-slate-100 rounded-lg transition-colors text-left",children:[S.jsx(xe,{className:"w-4 h-4 text-slate-500"})," Tambah Slide (+1)"]}),S.jsxs("button",{onClick:()=>{var x;(x=H.current)==null||x.click(),_(null)},className:"flex items-center gap-3 px-3 py-2 text-xs font-bold text-slate-700 hover:bg-slate-100 rounded-lg transition-colors text-left",children:[S.jsx(he,{className:"w-4 h-4 text-slate-500"})," Upload Foto"]}),S.jsxs("button",{onClick:L,className:"flex items-center gap-3 px-3 py-2 text-xs font-bold text-slate-700 hover:bg-slate-100 rounded-lg transition-colors text-left",children:[S.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-serif font-black text-slate-500 border border-slate-300 rounded bg-white text-[9px]",children:"T"})," Tambah Teks"]}),S.jsx("div",{className:"h-px bg-slate-200 my-1"}),S.jsx("div",{className:"px-3 py-1 text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:"Shapes"}),S.jsxs("div",{className:"flex gap-2 px-2 pb-1",children:[S.jsx("button",{onClick:()=>{F(I("square"),"shape"),_(null)},className:"p-2 bg-slate-50 hover:bg-slate-200 rounded-lg",children:S.jsx(Yt,{className:"w-4 h-4 text-slate-600"})}),S.jsx("button",{onClick:()=>{F(I("circle"),"shape"),_(null)},className:"p-2 bg-slate-50 hover:bg-slate-200 rounded-lg",children:S.jsx(Gt,{className:"w-4 h-4 text-slate-600"})}),S.jsx("button",{onClick:()=>{F(I("star"),"shape"),_(null)},className:"p-2 bg-slate-50 hover:bg-slate-200 rounded-lg",children:S.jsx(de,{className:"w-4 h-4 text-slate-600"})})]})]}),S.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 p-4 pointer-events-none flex justify-between items-start",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:zt,className:"pointer-events-auto bg-white/90 backdrop-blur text-slate-600 p-2.5 rounded-full shadow-sm border border-slate-200 hover:text-slate-900 hover:bg-white transition-colors",children:S.jsx(Kt,{className:"w-5 h-5"})}),S.jsx("button",{onClick:i,disabled:s<0,className:"pointer-events-auto bg-white/90 backdrop-blur text-slate-600 p-2.5 rounded-full shadow-sm border border-slate-200 hover:text-slate-900 hover:bg-white transition-colors disabled:opacity-50",children:S.jsx(we,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"pointer-events-auto bg-white/90 backdrop-blur-md border border-slate-200 rounded-full flex items-center p-1 shadow-sm",children:[S.jsx("button",{onClick:_e,className:"p-2.5 text-slate-500 hover:text-slate-900 rounded-full",children:S.jsx(ye,{className:"w-4 h-4"})}),S.jsxs("div",{className:"px-2 text-xs font-mono font-bold text-slate-700 w-10 text-center select-none",children:[Math.round(u*100),"%"]}),S.jsx("button",{onClick:be,className:"p-2.5 text-slate-500 hover:text-slate-900 rounded-full",children:S.jsx(ke,{className:"w-4 h-4"})})]}),S.jsx("button",{onClick:pt,disabled:B||ft.length===0,className:"pointer-events-auto bg-slate-900 hover:bg-slate-800 text-white px-4 py-2.5 rounded-full shadow-lg shadow-slate-900/10 font-bold text-xs flex items-center gap-2 transition-all active:scale-95 disabled:opacity-50 border border-slate-800",children:B?"Saving...":S.jsxs(S.Fragment,{children:[S.jsx(Se,{className:"w-4 h-4"})," Save"]})})]}),S.jsx("div",{className:"flex-1 bg-slate-100 overflow-hidden relative flex flex-col",children:S.jsx("div",{ref:tt,className:"flex-1 w-full h-full cursor-grab active:cursor-grabbing touch-none flex items-center justify-center overflow-hidden relative",onWheel:Rt,onPointerDown:Ft,onPointerMove:Ut,onPointerUp:Ot,onPointerLeave:Ot,onTouchStart:Tt,onTouchMove:ge,onTouchEnd:Ot,onContextMenu:kt,children:S.jsx("div",{style:{transform:`translate(${g.x}px, ${g.y}px) scale(${u})`,transformOrigin:"center",display:"flex",alignItems:"center",justifyContent:"center",transition:E.current||A.current||at.current||ct.current?"none":"transform 0.1s ease-out",willChange:"transform",pointerEvents:"none"},children:S.jsxs("div",{className:"relative shadow-2xl shrink-0 pointer-events-auto",style:{width:_t,height:t},children:[S.jsx("div",{className:"absolute inset-0 canvas-bg",style:{backgroundColor:a}}),S.jsx("div",{className:"absolute inset-0 overflow-hidden",children:ft.map((x,N)=>S.jsx("div",{className:"absolute group",style:{left:x.x,top:x.y,width:x.width,height:x.height,transform:`rotate(${x.rotation}deg) scaleX(${x.scaleX})`,zIndex:N},children:P===x.id?S.jsx("div",{className:"w-full h-full relative",children:S.jsx("textarea",{autoFocus:!0,value:M,onChange:Y=>nt(Y.target.value),onBlur:J,onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),J())},className:"w-full h-full bg-transparent border-2 border-blue-500 rounded resize-none outline-none text-center font-bold text-slate-900 overflow-hidden p-0 m-0",style:{fontFamily:"Arial, sans-serif",fontSize:"60px",lineHeight:"1.2",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"pre-wrap"},onFocus:Y=>Y.target.select()})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`absolute -inset-0.5 pointer-events-none transition-opacity duration-200 z-50 ${O===x.id?"opacity-100":"opacity-0"}`,style:{border:"2px dashed #0f172a",borderRadius:x.maskShape==="circle"?"50%":`${x.borderRadius}px`}}),S.jsx("div",{style:{width:"100%",height:"100%",borderRadius:x.maskShape==="circle"?"50%":`${x.borderRadius}px`,overflow:"hidden",border:x.borderWidth>0?`${x.borderWidth}px solid ${x.borderColor}`:"none",filter:x.isGrayscale?"grayscale(100%)":"none",position:"relative"},onMouseDown:Y=>Lt(Y.clientX,Y.clientY,x.id),onTouchStart:Y=>{Y.touches.length===1&&Lt(Y.touches[0].clientX,Y.touches[0].clientY,x.id)},onMouseUp:Pt,onTouchEnd:Pt,onDoubleClick:()=>At(x.id),children:S.jsx("img",{src:x.src,alt:"item",className:"w-full h-full select-none",draggable:!1,style:{objectFit:"cover"}})})]})},x.id))}),ft.map(x=>O===x.id&&!P&&S.jsxs("div",{className:"absolute pointer-events-none z-[51]",style:{left:x.x,top:x.y,width:x.width,height:x.height,transform:`rotate(${x.rotation}deg) scaleX(${x.scaleX})`},children:[S.jsx("div",{className:"absolute -bottom-3 -right-3 w-6 h-6 pointer-events-auto flex items-center justify-center cursor-nwse-resize hover:scale-110 transition-transform bg-white rounded-full shadow-md",style:{transform:`scale(${1/u})`},onMouseDown:N=>Mt(N,x.id),onTouchStart:N=>Mt(N,x.id),children:S.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/11398/11398919.png",className:"w-4 h-4 object-contain",alt:"Resize",draggable:!1})}),at.current&&S.jsxs("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-1 rounded shadow whitespace-nowrap",style:{transform:`translateX(-50%) scale(${1/u})`},children:[Math.round(x.width),"px"]})]},`resize-${x.id}`)),O&&vt()&&!P&&S.jsxs("div",{className:"absolute pointer-events-auto z-[100]",style:{left:vt().x+vt().width/2,top:vt().y-60/u,transform:`translateX(-50%) scale(${1/u})`,transformOrigin:"bottom center",transition:"top 0.2s ease-out"},onMouseDown:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),children:[S.jsx("div",{className:"bg-white/90 backdrop-blur-md text-slate-700 rounded-full shadow-xl border border-slate-200 flex items-center p-1.5 gap-1 transition-all duration-200",children:R==="none"?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>W("layers"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",title:"Layer",children:S.jsx(qt,{className:"w-4 h-4"})}),((Vt=vt())==null?void 0:Vt.type)==="text"&&S.jsx("button",{onClick:$,className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",title:"Edit Teks",children:S.jsx(Ce,{className:"w-4 h-4"})}),((Jt=vt())==null?void 0:Jt.type)!=="text"&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>W("mask"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",title:"Masking",children:S.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/1215/1215945.png",className:"w-4 h-4 object-contain",alt:"Mask"})}),S.jsx("button",{onClick:()=>W("border"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",title:"Border",children:S.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/33/33587.png",className:"w-4 h-4 object-contain",alt:"Border"})})]}),S.jsx("div",{className:"w-px h-4 bg-slate-300 mx-1"}),S.jsx("button",{onClick:it,className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",children:S.jsx(je,{className:"w-4 h-4"})}),S.jsx("button",{onClick:wt,className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",children:S.jsx(ze,{className:"w-4 h-4"})}),((Qt=vt())==null?void 0:Qt.type)!=="text"&&S.jsx("button",{onClick:Et,className:"p-2 hover:bg-slate-100 rounded-full text-slate-900",children:S.jsx(Ee,{className:"w-4 h-4"})}),S.jsx("button",{onClick:q,className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",children:S.jsx(Ae,{className:"w-4 h-4"})}),S.jsx("div",{className:"w-px h-4 bg-slate-300 mx-1"}),S.jsx("button",{onClick:X,className:"p-2 hover:bg-red-50 text-red-500 rounded-full",children:S.jsx(Ie,{className:"w-4 h-4"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>W("none"),className:"p-2 hover:bg-slate-200 rounded-full text-slate-900 bg-slate-100",title:"Kembali",children:S.jsx(Kt,{className:"w-4 h-4"})}),S.jsx("div",{className:"w-px h-4 bg-slate-300 mx-1"}),R==="layers"&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>St("front"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-700",title:"Paling Depan",children:S.jsx(qt,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>St("forward"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-700",title:"Maju",children:S.jsx(Ne,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>St("backward"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-700",title:"Mundur",children:S.jsx(Re,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>St("back"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-700",title:"Paling Belakang",children:S.jsx(qt,{className:"w-4 h-4 opacity-50"})})]}),R==="mask"&&((te=vt())==null?void 0:te.type)!=="text"&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>ot({maskShape:"none",borderRadius:0}),className:`p-2 rounded-full ${((ee=vt())==null?void 0:ee.maskShape)==="none"?"bg-slate-900 text-white":"hover:bg-slate-100 text-slate-700"}`,title:"Kotak",children:S.jsx(Yt,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>ot({maskShape:"circle"}),className:`p-2 rounded-full ${((re=vt())==null?void 0:re.maskShape)==="circle"?"bg-slate-900 text-white":"hover:bg-slate-100 text-slate-700"}`,title:"Lingkaran",children:S.jsx(Gt,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>ot({maskShape:"square",borderRadius:40}),className:`p-2 rounded-full ${((ne=vt())==null?void 0:ne.maskShape)==="square"?"bg-slate-900 text-white":"hover:bg-slate-100 text-slate-700"}`,title:"Rounded",children:S.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-md"})})]}),R==="border"&&((se=vt())==null?void 0:se.type)!=="text"&&S.jsxs("div",{className:"flex items-center gap-3 px-2",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-300 shadow-sm",style:{backgroundColor:(ae=vt())==null?void 0:ae.borderColor}}),S.jsx("input",{type:"color",value:(ie=vt())==null?void 0:ie.borderColor,onChange:x=>ot({borderColor:x.target.value}),className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"})]}),S.jsx("input",{type:"range",min:"0",max:"20",value:(oe=vt())==null?void 0:oe.borderWidth,onChange:x=>ot({borderWidth:parseInt(x.target.value)}),className:"w-24 h-1.5 bg-slate-200 rounded-lg accent-slate-900 cursor-pointer"}),S.jsx("span",{className:"text-[10px] font-mono font-bold text-slate-500 w-4",children:(le=vt())==null?void 0:le.borderWidth})]})]})}),S.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-white/90 absolute -bottom-1.5 left-1/2 -translate-x-1/2 drop-shadow-sm"})]}),S.jsx("div",{className:"absolute inset-0 pointer-events-none z-20",children:Array.from({length:r-1}).map((x,N)=>S.jsx("div",{className:"absolute top-0 bottom-0 border-l-2 border-dashed border-slate-400/50 flex flex-col justify-between items-center py-2 mix-blend-difference",style:{left:`${(N+1)/r*100}%`},children:S.jsx("div",{style:{transform:`scale(${1/u})`},children:S.jsx(Oe,{className:"w-4 h-4 text-slate-600 opacity-80 bg-white/20 rounded-full p-0.5"})})},N))}),S.jsx("div",{className:"absolute top-0 left-0 w-full flex pointer-events-none z-20",children:Array.from({length:r}).map((x,N)=>S.jsx("div",{className:"flex-1 border-r border-transparent h-6 flex items-center justify-center",children:S.jsxs("span",{className:"bg-white/80 text-slate-900 text-[9px] font-bold px-2 rounded-b backdrop-blur-sm shadow-sm border-x border-b border-slate-200",style:{transform:`scale(${Math.max(1,1/u)})`,transformOrigin:"top center"},children:["Slide ",N+1]})},N))})]})})})}),S.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[60] flex flex-col bg-white border-t border-slate-200 transition-transform duration-300 ease-out shadow-[0_-10px_30px_-10px_rgba(0,0,0,0.05)] ${w?"translate-y-0":"translate-y-[calc(100%-40px)]"}`,children:[S.jsxs("div",{onClick:()=>j(!w),className:"h-10 flex items-center justify-center cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors border-b border-slate-200 group shrink-0",children:[S.jsx("div",{className:"w-12 h-1 bg-slate-300 rounded-full group-hover:bg-slate-400 mb-1"}),S.jsx(Te,{className:`w-4 h-4 text-slate-400 absolute right-4 transition-transform duration-300 ${w?"":"rotate-180"}`})]}),S.jsxs("div",{className:"flex border-b border-slate-200 bg-white shrink-0",children:[S.jsx("button",{onClick:()=>{U("add"),j(!0)},className:`flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors ${C==="add"?"text-slate-900 border-b-2 border-slate-900 bg-slate-50":"text-slate-400 hover:text-slate-600"}`,children:"Add"}),S.jsx("button",{onClick:()=>{U("canvas"),j(!0)},className:`flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors ${C==="canvas"?"text-slate-900 border-b-2 border-slate-900 bg-slate-50":"text-slate-400 hover:text-slate-600"}`,children:"Layout"})]}),S.jsxs("div",{className:"h-28 overflow-x-auto overflow-y-hidden bg-white no-scrollbar flex items-center",children:[C==="add"&&S.jsx("div",{className:"flex items-center gap-4 px-6 min-w-max",children:T?S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:()=>Z(null),className:"h-16 w-16 bg-slate-100 hover:bg-slate-200 rounded-xl text-slate-600 flex flex-col items-center justify-center gap-1 border border-transparent transition-all shrink-0",children:[S.jsx(Kt,{className:"w-5 h-5"}),S.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Back"})]}),S.jsx("div",{className:"w-px h-12 bg-slate-100 shrink-0 mx-2"}),S.jsx("div",{className:"flex flex-col items-center justify-center mr-2",children:S.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase rotate-180",style:{writingMode:"vertical-rl"},children:T})}),S.jsx("div",{className:"flex gap-3",children:(ce=ue.find(x=>x.name===T))==null?void 0:ce.items.map((x,N)=>S.jsx("button",{onClick:()=>F(x,"image"),className:"bg-white w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-50 border border-slate-200 transition-all hover:scale-105 hover:shadow-sm",children:S.jsx("img",{src:x,alt:"Sticker",className:"w-10 h-10 object-contain pointer-events-none"})},N))})]}):S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:()=>{var x;return(x=H.current)==null?void 0:x.click()},className:"h-20 w-20 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-700 font-bold flex flex-col items-center justify-center gap-2 border border-slate-200 transition-all shrink-0",children:[S.jsx(he,{className:"w-6 h-6 text-slate-900"}),S.jsx("span",{className:"text-[10px] uppercase",children:"Upload"})]}),S.jsx("input",{type:"file",ref:H,onChange:z,className:"hidden",accept:"image/*"}),S.jsx("div",{className:"w-px h-12 bg-slate-100 shrink-0"}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>F(I("circle"),"shape"),className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors",children:S.jsx(Gt,{className:"w-6 h-6 text-slate-700"})}),S.jsx("button",{onClick:()=>F(I("square"),"shape"),className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors",children:S.jsx(Yt,{className:"w-6 h-6 text-slate-700"})}),S.jsx("button",{onClick:()=>F(I("triangle"),"shape"),className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors",children:S.jsx(Be,{className:"w-6 h-6 text-slate-700"})}),S.jsx("button",{onClick:()=>F(I("heart"),"shape"),className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors",children:S.jsx(De,{className:"w-6 h-6 text-red-500"})}),S.jsx("button",{onClick:()=>F(I("star"),"shape"),className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors",children:S.jsx(de,{className:"w-6 h-6 text-slate-900"})}),S.jsx("button",{onClick:L,className:"bg-slate-50 w-16 h-16 rounded-xl flex items-center justify-center hover:bg-slate-100 border border-slate-100 transition-colors font-bold text-xs text-slate-700",children:"TXT"})]}),S.jsx("div",{className:"w-px h-12 bg-slate-100 shrink-0 mx-2"}),ue.map(x=>S.jsxs("button",{onClick:()=>Z(x.name),className:"bg-white w-20 h-20 rounded-xl flex flex-col items-center justify-center hover:bg-slate-50 border border-slate-200 transition-all hover:scale-105 hover:shadow-sm gap-1",children:[S.jsxs("div",{className:"relative w-8 h-8",children:[S.jsx("img",{src:x.items[0],alt:"Pack",className:"w-full h-full object-contain pointer-events-none opacity-80"}),S.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full border border-white"})]}),S.jsx("span",{className:"text-[9px] font-bold text-slate-600 uppercase",children:x.name})]},x.name))]})}),C==="canvas"&&S.jsxs("div",{className:"flex items-center gap-6 px-6 min-w-max h-full",children:[S.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl flex flex-col justify-center gap-1 w-48 shrink-0 border border-slate-100",children:[S.jsx("div",{className:"flex justify-between text-[10px] text-slate-500 font-bold uppercase",children:S.jsxs("span",{children:["Slides (",r,")"]})}),S.jsx("input",{type:"range",min:"2",max:"10",value:r,onChange:x=>f(parseInt(x.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg accent-slate-900 cursor-pointer"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>c("square"),className:`px-4 py-3 rounded-xl text-xs font-bold border transition-all flex items-center justify-center gap-2 ${n==="square"?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:"Square 1:1"}),S.jsx("button",{onClick:()=>c("portrait"),className:`px-4 py-3 rounded-xl text-xs font-bold border transition-all flex items-center justify-center gap-2 ${n==="portrait"?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:"Portrait 4:5"})]}),S.jsx("div",{className:"w-px h-12 bg-slate-100 shrink-0"}),S.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100 flex items-center justify-between gap-3 shrink-0",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Background"}),S.jsx("input",{type:"color",value:a,onChange:x=>p(x.target.value),className:"w-8 h-8 rounded cursor-pointer bg-transparent border-0"})]})]})]})]})]})};export{We as default};
