import{u as Ue,a as _e,r,g as ae,s as b,j as e,C as le,b as ne,P as re,U as oe,B as ie,T as J,G as ce,E as L,A as Ge,c as de,d as Fe,e as ze,l as We,f as He}from"./index-Cw6E8Nps.js";import{C as Ke}from"./ConfirmModal-BCdQmYRN.js";const Oe=({isAdmin:g})=>{const{id:R}=Ue(),y=_e(),[k,A]=r.useState([]),[O,f]=r.useState(!0),[m,p]=r.useState("list"),[o,xe]=r.useState(null),j=6,[D,V]=r.useState(j),[U,X]=r.useState("add"),[n,c]=r.useState({}),[_,Y]=r.useState(!1),[w,v]=r.useState([]),[q,me]=r.useState(null),[Q,ue]=r.useState(null),[C,S]=r.useState(""),[I,T]=r.useState(""),[G,F]=r.useState(null),[he,Z]=r.useState(null),[u,z]=r.useState({x:0,y:0,visible:!1}),[be,P]=r.useState(!1),[W,H]=r.useState("url"),[B,M]=r.useState(""),ee=r.useRef(null),te=r.useRef(null);r.useEffect(()=>{R?(p("detail"),f(!0),ae().then(t=>{const s=decodeURIComponent(R);let a=t.find(l=>l.title===s);a||(a=t.find(l=>l.id===s)),a?(xe(a),A(t)):(b("Artikel tidak ditemukan."),y("/blog",{replace:!0})),f(!1)}).catch(t=>{console.error("Failed to load post:",t),f(!1)})):m!=="editor"&&(p("list"),K())},[R]);const K=async()=>{f(!0);try{const t=await ae();A(t)}catch(t){console.error("Failed to fetch blog posts",t)}finally{f(!1)}};r.useEffect(()=>{if(m==="editor"){const t=n.content||"";if(!t){v([{id:Date.now().toString(),type:"text",content:""}]);return}const s=/(!image\(.*?\))/g,a=t.split(s),l=a.map(i=>{const x=i.match(/^!image\((.*?)\)$/);return x?{id:Math.random().toString(36).substr(2,9),type:"image",content:x[1]}:{id:Math.random().toString(36).substr(2,9),type:"text",content:i}}).filter(i=>i.type==="image"||i.content.length>0||a.length===1);l.length===0&&l.push({id:Date.now().toString(),type:"text",content:""}),v(l)}},[m,n.id]);const E=t=>{if(t){const s=window.scrollY,a=window.scrollX;t.style.height="auto",t.style.height=`${t.scrollHeight}px`,window.scrollTo(a,s)}};r.useEffect(()=>{m==="editor"&&(E(ee.current),E(te.current))},[m,n.title,n.subtitle]),r.useEffect(()=>{const t=()=>{u.visible&&z({...u,visible:!1})};return window.addEventListener("click",t),()=>window.removeEventListener("click",t)},[u]);const ge=()=>{V(t=>t+j)},pe=()=>{V(j);const t=document.getElementById("blog-top");t&&t.scrollIntoView({behavior:"smooth"})},fe=()=>{X("add"),c({title:"",subtitle:"",category:"Category",date:new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),readTime:"5 min read",author:"Fanra",image:"",content:"",timestamp:Date.now(),sources:[]}),S(""),T(""),p("editor"),window.scrollTo(0,0)},je=(t,s)=>{t.stopPropagation(),X("edit"),c({...s,sources:s.sources||[]}),S(""),T(""),p("editor"),window.scrollTo(0,0)},we=(t,s)=>{t.stopPropagation(),F(s)},ve=async()=>{if(!G)return;const t=G;Z(t),F(null);try{await He(t),A(s=>s.filter(a=>a.id!==t)),(o==null?void 0:o.id)===t&&y("/blog"),b("Artikel berhasil dihapus.")}catch{b("Gagal menghapus artikel."),K()}finally{Z(null)}},Ne=async()=>{if(!n.title){b("Judul wajib diisi.");return}const t=w.map(s=>s.type==="image"?`

!image(${s.content})

`:s.content).join("").trim();if(!t){b("Konten tidak boleh kosong.");return}Y(!0);try{const s={...n,content:t,image:n.image||"https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop"};U==="add"?await Fe(s):n.id&&await ze(n.id,s),b(U==="add"?"Artikel berhasil diterbitkan!":"Artikel berhasil diperbarui!"),p("list"),K()}catch(s){console.error(s),b("Gagal menyimpan artikel.")}finally{Y(!1)}},ye=()=>{if(!C.trim()||!I.trim())return;const t={label:C.trim(),url:I.trim()},s=[...n.sources||[],t];c(a=>({...a,sources:s})),S(""),T("")},ke=t=>{const s=(n.sources||[]).filter((a,l)=>l!==t);c(a=>({...a,sources:s}))},Ce=t=>{var a;const s=(a=t.target.files)==null?void 0:a[0];if(s){const l=new FileReader;l.onloadend=()=>{const i=l.result;c(x=>({...x,image:i}))},l.readAsDataURL(s)}},se=t=>{We("blog",t.id||"unknown",t.title),y(`/blog/${encodeURIComponent(t.title)}`)},Se=(t,s)=>{t.preventDefault();const a=t.target;me(s),ue(a.selectionStart),z({x:t.pageX,y:t.pageY,visible:!0})},Ie=()=>{z({...u,visible:!1}),M(""),H("url"),P(!0)},Te=t=>{var a;const s=(a=t.target.files)==null?void 0:a[0];if(s){const l=new FileReader;l.onloadend=()=>{const i=l.result;M(i)},l.readAsDataURL(s)}},Pe=()=>{if(!B||!q){P(!1);return}const t=w.findIndex(h=>h.id===q);if(t===-1)return;const s=w[t],a=s.content.slice(0,Q||s.content.length),l=s.content.slice(Q||s.content.length),i=[...w];i[t]={...s,content:a};const x={id:Date.now().toString(),type:"image",content:B},d={id:(Date.now()+1).toString(),type:"text",content:l};i.splice(t+1,0,x,d),v(i),P(!1),M("")},Be=(t,s)=>{v(a=>a.map(l=>l.id===t?{...l,content:s}:l))},Me=t=>{confirm("Hapus elemen ini?")&&v(s=>s.filter((a,l)=>l!==t))},Ee=t=>t?t.split(`
`).map((s,a)=>{if(!s.trim())return e.jsx("br",{},a);const l=s.match(/^!image\((.*?)\)$/);if(l)return e.jsx("div",{className:"my-8",children:e.jsx("img",{src:l[1],alt:"Content Illustration",className:"w-full rounded-xl shadow-lg border border-slate-100"})},a);const i=/(\\\(.*?\\\)|\\\[.*?\\\])/g,x=s.split(i);return e.jsx("p",{className:"mb-6 text-slate-700 leading-8 text-lg",children:x.map((d,h)=>{if(d.startsWith("\\(")&&d.endsWith("\\)")){const N=d.slice(2,-2);try{if(window.katex){const $=window.katex.renderToString(N,{throwOnError:!1,displayMode:!1});return e.jsx("span",{dangerouslySetInnerHTML:{__html:$},className:"mx-1"},h)}return e.jsx("span",{className:"font-mono bg-yellow-100 px-1 rounded",children:N},h)}catch{return d}}if(d.startsWith("\\[")&&d.endsWith("\\]")){const N=d.slice(2,-2);try{if(window.katex){const $=window.katex.renderToString(N,{throwOnError:!1,displayMode:!0});return e.jsx("div",{dangerouslySetInnerHTML:{__html:$},className:"my-4 text-center overflow-x-auto py-2"},h)}return e.jsx("div",{className:"font-mono bg-yellow-100 p-2 rounded my-2 text-center",children:N},h)}catch{return d}}return e.jsx("span",{children:d},h)})},a)}):null,Le=k.slice(0,D),Re=D<k.length,Ae=D>j,De=()=>o?k.filter(t=>t.id!==o.id).slice(0,2):[];if(m==="editor")return e.jsxs("div",{className:"min-h-screen bg-slate-100 animate-fade-in relative pb-20",children:[e.jsxs("div",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-md border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm",children:[e.jsxs("button",{onClick:()=>p("list"),className:"flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-slate-900 transition-colors px-4 py-2 rounded-xl hover:bg-slate-100 border border-transparent hover:border-slate-200",children:[e.jsx(le,{className:"w-4 h-4"}),"Cancel"]}),e.jsx("span",{className:"text-sm font-black text-slate-400 uppercase tracking-widest hidden md:block",children:U==="add"?"Creating New Story":"Editing Mode"}),e.jsxs("button",{onClick:Ne,disabled:_,className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95 disabled:opacity-50",children:[_?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(ne,{className:"w-4 h-4"}),_?"Publishing...":"Publish"]})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:e.jsxs("div",{className:"bg-white shadow-xl shadow-slate-200/50 rounded-3xl p-8 md:p-12 border border-slate-200",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5 mb-8 p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Kategori"}),e.jsx("input",{type:"text",value:n.category,onChange:t=>c(s=>({...s,category:t.target.value})),className:"w-full bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold text-slate-800 focus:border-slate-900 outline-none transition-colors",placeholder:"Science..."})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Penulis"}),e.jsx("input",{type:"text",value:n.author,onChange:t=>c(s=>({...s,author:t.target.value})),className:"w-full bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold text-slate-800 focus:border-slate-900 outline-none transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Waktu Baca"}),e.jsx("input",{type:"text",value:n.readTime,onChange:t=>c(s=>({...s,readTime:t.target.value})),className:"w-full bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold text-slate-800 focus:border-slate-900 outline-none transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Tanggal"}),e.jsx("input",{type:"text",value:n.date,onChange:t=>c(s=>({...s,date:t.target.value})),className:"w-full bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold text-slate-800 focus:border-slate-900 outline-none transition-colors"})]})]}),e.jsxs("div",{className:"space-y-6 mb-10 pb-10 border-b border-dashed border-slate-200",children:[e.jsx("textarea",{ref:ee,rows:1,value:n.title||"",onChange:t=>c(s=>({...s,title:t.target.value})),className:"w-full text-4xl md:text-5xl font-black text-slate-900 bg-transparent border-b-2 border-transparent focus:border-slate-200 outline-none placeholder:text-slate-300 resize-none overflow-hidden leading-tight py-2 transition-colors",placeholder:"Judul Utama Artikel..."}),e.jsx("textarea",{ref:te,rows:1,value:n.subtitle||"",onChange:t=>c(s=>({...s,subtitle:t.target.value})),className:"w-full text-xl font-medium text-slate-500 bg-transparent border-b border-transparent focus:border-slate-200 outline-none placeholder:text-slate-300 resize-none overflow-hidden leading-relaxed py-2 transition-colors",placeholder:"Tulis subtitle atau ringkasan menarik di sini..."})]}),e.jsxs("div",{className:"mb-10 group relative p-4 rounded-3xl border-2 border-dashed border-slate-200 hover:border-blue-400 transition-colors bg-slate-50/50",children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-3 text-center",children:"Cover Image"}),e.jsxs("div",{className:"w-full aspect-video rounded-2xl overflow-hidden shadow-sm bg-white border border-slate-100 flex flex-col items-center justify-center relative",children:[n.image?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:n.image,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs("div",{className:"text-white font-bold flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5"})," Ganti Gambar"]})})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx(oe,{className:"w-8 h-8 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-400 font-bold text-sm",children:"Upload Cover Image"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:Ce,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),e.jsx("input",{type:"text",value:n.image||"",onChange:t=>c(s=>({...s,image:t.target.value})),placeholder:"...atau tempel URL gambar disini",className:"w-full mt-4 text-xs text-slate-500 bg-white border border-slate-200 rounded-lg px-3 py-2 outline-none focus:border-blue-400 transition-colors text-center"})]}),e.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 p-4 rounded-xl text-xs text-blue-800 flex flex-col gap-2",children:[e.jsxs("p",{className:"font-bold flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"})," Panduan Editor:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 opacity-80",children:[e.jsxs("li",{children:["Gunakan ",e.jsx("code",{children:"\\( rumus \\)"})," untuk matematika inline."]}),e.jsxs("li",{children:["Gunakan ",e.jsx("code",{children:"\\[ rumus \\]"})," untuk matematika blok."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Klik Kanan"})," di area teks untuk menyisipkan gambar di tengah paragraf."]})]})]}),e.jsxs("div",{className:"relative space-y-2",children:[w.map((t,s)=>e.jsx("div",{className:"relative group/block",children:t.type==="text"?e.jsx("textarea",{value:t.content,onChange:a=>{Be(t.id,a.target.value),E(a.target)},onFocus:a=>E(a.target),onContextMenu:a=>Se(a,t.id),className:"w-full text-lg leading-9 text-slate-800 bg-transparent border-none outline-none placeholder:text-slate-300 resize-none font-serif transition-colors overflow-hidden focus:bg-slate-50 rounded-lg px-2",placeholder:s===0?"Mulai menulis cerita Anda di sini...":"Lanjutkan menulis...",rows:1}):e.jsxs("div",{className:"relative my-4 group/image",children:[e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg border border-slate-200 bg-slate-50",children:e.jsx("img",{src:t.content,alt:"Inline",className:"w-full h-auto object-contain max-h-[500px]"})}),e.jsx("button",{onClick:()=>Me(s),className:"absolute top-3 right-3 bg-red-500 text-white p-2 rounded-full shadow-md opacity-0 group-hover/image:opacity-100 transition-opacity hover:bg-red-600 hover:scale-110",title:"Hapus Gambar",children:e.jsx(J,{className:"w-4 h-4"})})]})},t.id)),u.visible&&e.jsx("div",{className:"fixed z-50 bg-white border border-slate-200 rounded-lg shadow-xl py-1 w-48 animate-fade-in",style:{top:u.y,left:u.x},children:e.jsxs("button",{onClick:Ie,className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 hover:text-blue-600 flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-slate-100 rounded flex items-center justify-center text-[10px]",children:"ðŸ–¼ï¸"}),"Sisipkan Gambar"]})}),be&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-2xl w-full max-w-md animate-fade-in-up border border-slate-100",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Sisipkan Gambar"}),e.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-100 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>H("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${W==="url"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Link URL"}),e.jsx("button",{onClick:()=>H("upload"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${W==="upload"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Upload File"})]}),W==="url"?e.jsx("input",{type:"text",value:B,onChange:t=>M(t.target.value),placeholder:"https://example.com/image.jpg",className:"w-full border border-slate-200 rounded-xl px-4 py-3 text-sm mb-6 outline-none focus:border-slate-900 focus:ring-2 focus:ring-slate-900/10 bg-slate-50 text-slate-900 placeholder:text-slate-400",autoFocus:!0}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-300 border-dashed rounded-2xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(oe,{className:"w-8 h-8 text-slate-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Klik untuk pilih file"}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"JPG, PNG, WEBP (Max 2MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Te})]}),B&&e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("p",{className:"text-xs text-green-600 font-bold flex items-center justify-center gap-1",children:[e.jsx(ne,{className:"w-3 h-3"})," File siap disisipkan"]})})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-5 py-2.5 text-xs font-bold text-slate-500 hover:bg-slate-100 rounded-xl transition-colors",children:"Batal"}),e.jsx("button",{onClick:Pe,className:"px-6 py-2.5 text-xs font-bold bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20 active:scale-95",children:"Sisipkan"})]})]})})]}),e.jsxs("div",{className:"mt-16 pt-10 border-t border-slate-200",children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/2420/2420165.png",alt:"Sources",className:"w-4 h-4 object-contain opacity-60"})," Referensi & Sumber"]}),e.jsx("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-200 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Nama Sumber"}),e.jsx("input",{type:"text",value:C,onChange:t=>S(t.target.value),placeholder:"Contoh: Wikipedia",className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:border-slate-900 outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"URL Link"}),e.jsx("input",{type:"text",value:I,onChange:t=>T(t.target.value),placeholder:"https://...",className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:border-slate-900 outline-none"})]}),e.jsx("div",{children:e.jsx("button",{onClick:ye,disabled:!C||!I,className:"w-full py-2 bg-slate-900 text-white rounded-lg text-sm font-bold hover:bg-slate-800 disabled:opacity-50 transition-all",children:"+ Tambah"})})]})}),n.sources&&n.sources.length>0&&e.jsx("div",{className:"space-y-2",children:n.sources.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-100 rounded-xl hover:border-slate-300 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:t.label}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.url})]})]}),e.jsx("button",{onClick:()=>ke(s),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(J,{className:"w-4 h-4"})})]},s))}),(!n.sources||n.sources.length===0)&&e.jsx("p",{className:"text-xs text-slate-400 text-center italic",children:"Belum ada sumber yang ditambahkan."})]})]})})]});if(m==="detail"&&o){const t=De();return e.jsx("article",{className:"min-h-screen bg-white animate-fade-in pb-20",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[e.jsxs("button",{onClick:()=>y("/blog"),className:"group flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-slate-900 mb-10 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border border-slate-200 flex items-center justify-center group-hover:bg-slate-100 transition-colors",children:e.jsx(le,{className:"w-4 h-4"})}),"Kembali"]}),e.jsxs("header",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-xs font-bold uppercase tracking-wider",children:o.category}),e.jsx("span",{className:"text-slate-400 text-sm font-medium",children:o.readTime})]}),e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-slate-900 mb-6 leading-tight tracking-tight",children:o.title}),e.jsx("p",{className:"text-lg md:text-xl text-slate-500 leading-relaxed font-medium",children:o.subtitle}),e.jsxs("div",{className:"flex items-center gap-4 mt-8 pt-8 border-t border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold text-sm",children:o.author.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:o.author}),e.jsx("p",{className:"text-xs text-slate-500",children:o.date})]})]})]}),e.jsx("figure",{className:"mb-12",children:e.jsx("img",{src:o.image,alt:o.title,className:"w-full aspect-video object-cover rounded-2xl shadow-lg border border-slate-100"})}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none mb-16 font-serif",children:Ee(o.content)}),o.sources&&o.sources.length>0&&e.jsxs("div",{className:"border-t border-slate-100 pt-10 mb-16",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Sumber Referensi"]}),e.jsx("ul",{className:"space-y-3",children:o.sources.map((s,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"text-slate-300 font-bold select-none",children:[a+1,"."]}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium break-all",children:s.label})]},a))})]}),t.length>0&&e.jsxs("div",{className:"border-t-2 border-slate-100 pt-12",children:[e.jsxs("h3",{className:"text-xl font-black text-slate-900 mb-6 flex items-center gap-3",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/1170/1170221.png",alt:"Read Also",className:"w-6 h-6 object-contain opacity-60"}),"Baca Juga"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.map(s=>e.jsxs("div",{onClick:()=>se(s),className:"group cursor-pointer bg-slate-50 rounded-2xl p-4 border border-slate-100 hover:border-slate-300 hover:bg-white hover:shadow-lg transition-all",children:[e.jsx("div",{className:"aspect-video rounded-xl overflow-hidden mb-4 bg-slate-200",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover opacity-90 group-hover:scale-105 transition-transform duration-500"})}),e.jsx("h4",{className:"font-bold text-slate-900 leading-tight mb-2 group-hover:text-blue-600 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:s.subtitle})]},s.id))})]})]})})}return e.jsxs("div",{id:"blog-top",className:"max-w-7xl mx-auto px-6 py-12 animate-fade-in relative pb-24",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-16 gap-6",children:[e.jsxs("div",{className:"max-w-2xl",children:[e.jsx(L,{id:"blog_header_title",defaultText:"Insights & Stories",isAdmin:g,tag:"h1",className:"text-4xl md:text-6xl font-black text-slate-900 mb-6 tracking-tight"}),e.jsx(L,{id:"blog_header_desc",defaultText:"Kumpulan pemikiran mendalam, fakta sains, dan eksplorasi ide yang mungkin bikin lo begadang mikirin alam semesta.",isAdmin:g,tag:"p",multiline:!0,className:"text-lg text-slate-500 leading-relaxed"})]}),g&&e.jsxs("button",{onClick:fe,className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95 whitespace-nowrap",children:[e.jsx(ie,{className:"w-5 h-5"}),"Write Story"]})]}),e.jsx(Ke,{isOpen:!!G,title:"Hapus Artikel?",description:"Artikel ini akan dihapus permanen. Tindakan ini tidak bisa dibatalkan.",confirmText:"Ya, Hapus",onConfirm:ve,onCancel:()=>F(null)}),O&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-slate-900 rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Memuat Artikel..."})]}),!O&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[Le.map(t=>e.jsxs("div",{onClick:()=>se(t),className:"group cursor-pointer flex flex-col h-full relative",children:[e.jsxs("div",{className:"relative aspect-[4/3] bg-slate-100 rounded-[2rem] overflow-hidden mb-6 shadow-sm group-hover:shadow-xl transition-all duration-500 border border-slate-200",children:[e.jsx("img",{src:t.image,alt:t.title,loading:"lazy",className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700"}),g&&e.jsxs("div",{className:"absolute top-3 right-3 z-20 flex gap-2",children:[e.jsx("button",{onClick:s=>je(s,t),className:"p-2 bg-white/90 backdrop-blur text-slate-700 rounded-full shadow-md hover:text-blue-600 hover:bg-white transition-colors",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s=>we(s,t.id),className:"p-2 bg-white/90 backdrop-blur text-slate-700 rounded-full shadow-md hover:text-red-500 hover:bg-white transition-colors",children:he===t.id?e.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-red-500 rounded-full animate-spin"}):e.jsx(J,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute top-6 left-6",children:e.jsx("span",{className:"bg-white/90 backdrop-blur text-slate-900 text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-sm",children:t.category})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-slate-400 mb-3",children:[e.jsx("span",{children:t.date}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:t.readTime})]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3 leading-tight group-hover:text-blue-600 transition-colors",children:t.title}),e.jsx("p",{className:"text-slate-500 line-clamp-3 leading-relaxed mb-6",children:t.subtitle}),e.jsxs("div",{className:"mt-auto flex items-center text-sm font-bold text-slate-900 group-hover:translate-x-2 transition-transform duration-300",children:["Baca Selengkapnya ",e.jsx(Ge,{className:"w-4 h-4 ml-2"})]})]})]},t.id)),k.length<=j&&e.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 text-center min-h-[400px]",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4 text-slate-300",children:e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/3018/3018445.png",alt:"Coming Soon",className:"w-8 h-8 object-contain opacity-50"})}),e.jsx(L,{id:"blog_placeholder_title",defaultText:"Tulisan Mendatang",isAdmin:g,tag:"h3",className:"font-bold text-slate-400 mb-2"}),e.jsx(L,{id:"blog_placeholder_desc",defaultText:"Artikel tentang AI Consciousness, Sejarah Internet, dan Psikologi Warna sedang ditulis...",isAdmin:g,tag:"p",multiline:!0,className:"text-sm text-slate-400 max-w-xs mx-auto"})]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-3 mt-16 mb-8",children:[Re&&e.jsxs("button",{onClick:ge,className:"px-6 py-3 rounded-full bg-white border border-slate-200 text-slate-700 font-bold text-xs hover:bg-slate-50 hover:text-slate-900 hover:border-slate-300 transition-all flex items-center gap-2 shadow-sm",children:["Lihat Artikel Lainnya ",e.jsx(de,{className:"w-4 h-4"})]}),Ae&&e.jsxs("button",{onClick:pe,className:"text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors flex items-center gap-1.5 py-2",children:["Tutup / Sembunyikan ",e.jsx(de,{className:"w-3.5 h-3.5 rotate-180"})]})]})]})]})};export{Oe as default};
